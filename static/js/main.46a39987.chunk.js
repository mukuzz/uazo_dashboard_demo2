(this["webpackJsonpuazo-dashboard"]=this["webpackJsonpuazo-dashboard"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports={block:"FactoryOutputChart_block__2oZAM",header:"FactoryOutputChart_header__2A0Fb",title:"FactoryOutputChart_title__3hs7o",filter:"FactoryOutputChart_filter__2336O",button:"FactoryOutputChart_button__3RUPl","btn-dark":"FactoryOutputChart_btn-dark__1VQ2M",chart:"FactoryOutputChart_chart__1qf_u"}},function(e,t,n){e.exports={block:"Login_block__Cgb-E",content:"Login_content__31Hc4","back-link":"Login_back-link__38gxy",card:"Login_card__1wesA",title:"Login_title__33x7x","form-group":"Login_form-group__3mrrw","input-group":"Login_input-group__2w8u-",message:"Login_message__9NFX4",submit:"Login_submit__3r-dq"}},,,,function(e,t,n){e.exports={"table-cont":"Table_table-cont__r9qBv","title-cont":"Table_title-cont__3w7AI",title:"Table_title__3RWda",table:"Table_table__3qmb0",heading:"Table_heading__10IME",row:"Table_row__2OIQY"}},function(e,t,n){e.exports={block:"Filter_block__19iNY",card:"Filter_card__17nJb",input:"Filter_input__UUK1k"}},,function(e,t,n){e.exports={block:"SideNavItem_block__3Q4jU",text:"SideNavItem_text__1DlEG",icon:"SideNavItem_icon__1anzi",content:"SideNavItem_content__3wXm2"}},,,function(e,t,n){e.exports={block:"TopNav_block__P68o2",button:"TopNav_button__3egls",logo:"TopNav_logo__39ZOZ",notification:"TopNav_notification__32VQq"}},function(e,t,n){e.exports={block:"ProductionOrdersProgress_block__aVded",header:"ProductionOrdersProgress_header__GDAzy",title:"ProductionOrdersProgress_title__1zFqK",chart:"ProductionOrdersProgress_chart__1I3w8"}},function(e,t,n){e.exports={block:"EfficiencyChart_block__39AL6",chart:"EfficiencyChart_chart__12viz",stat:"EfficiencyChart_stat__eGao1",footer:"EfficiencyChart_footer__2S-Cd"}},function(e,t,n){e.exports={block:"ProfileSmall_block__1Drum",content:"ProfileSmall_content__1ncPU",img:"ProfileSmall_img__PWfYe",name:"ProfileSmall_name__W6Yai"}},,,function(e,t,n){e.exports={block:"SideNav_block__2oUu-",list:"SideNav_list__3_3r3",button:"SideNav_button__oRjgj"}},function(e,t,n){e.exports={block:"TitledCard_block__3Rjdb",header:"TitledCard_header__1Sky9",title:"TitledCard_title__2q4-5"}},function(e,t,n){e.exports={block:"MetricCard_block__2p1BT",h2:"MetricCard_h2__ukYc0",h3:"MetricCard_h3__nMTN_",icon:"MetricCard_icon__15ieD"}},function(e,t,n){e.exports={block:"Overview_block__24MnV","metric-cards-cont":"Overview_metric-cards-cont__kOg0o","detail-cards-cont":"Overview_detail-cards-cont__2xCCC"}},,,,,function(e,t,n){e.exports={block:"NavLayout_block__K_i9S",content:"NavLayout_content__2_sLe"}},function(e,t,n){e.exports={block:"MetricStrip_block__3Dvhf",item:"MetricStrip_item__1s1Gm"}},function(e,t,n){e.exports={block:"QualityReportChart_block__-xZFA",chart:"QualityReportChart_chart__2SqDp"}},function(e,t,n){e.exports={block:"QualityReport_block__15rFH","report-item":"QualityReport_report-item__XPS23"}},function(e,t,n){e.exports={block:"Settings_block__bhfQr","account-options":"Settings_account-options__INd5g"}},,,,,,function(e,t,n){e.exports={block:"Card_block__1JQrE"}},function(e,t,n){e.exports={"def-name":"FrequentDefectsTable_def-name__2_979"}},function(e,t,n){e.exports={block:"Detail_block__1iRMm"}},function(e,t,n){e.exports={block:"LogoutButton_block__PHuqw"}},,,,,,,,function(e,t,n){},,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n.n(c),s=n(43),i=n.n(s),o=(n(56),n(2)),l=n(3),u=n(5),h=n(4),d=n(12),j=n(7),b=n(27),p=n.n(b);d.b.add([j.g]);var f=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("nav",{id:"sidebarMenu",className:p.a.block,"data-active":"".concat(this.props.sideNavActive),children:[Object(a.jsx)("button",{className:p.a.button,onClick:this.props.handleSmallScreenNavClose,children:Object(a.jsx)("span",{className:"fas fa-times"})}),Object(a.jsx)("ul",{className:p.a.list,children:this.props.children})]})}}]),n}(c.Component),v=n(21),m=n.n(v),O=n.p+"static/media/logo.c04a650d.svg";d.b.add([j.a,j.i,j.b]);var x=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("nav",{className:m.a.block,children:[Object(a.jsx)("button",{className:m.a.button,onClick:this.props.handleSideNavToggle,children:Object(a.jsx)("span",{className:"fas fa-bars"})}),Object(a.jsx)("div",{className:m.a.logo,style:{backgroundImage:'url("'.concat(O,'")')}}),Object(a.jsx)("div",{className:m.a.notification,children:Object(a.jsx)("span",{className:"fas fa-bell"})}),Object(a.jsx)(Qe,{})]})}}]),n}(c.Component),_=n(6),g=n(18),k=n.n(g),y=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.container;return Object(a.jsx)("li",{className:k.a.block,children:Object(a.jsx)(e,{to:this.props.url,children:Object(a.jsxs)("div",{className:k.a.content,"data-active":"".concat(this.props.url===this.props.location.pathname),onClick:this.props.handleSmallScreenNavClose,children:[Object(a.jsx)("span",{className:k.a.text,children:Object(a.jsx)("span",{className:k.a.icon+" "+this.props.faIcon})}),Object(a.jsx)("span",{className:k.a.text,children:this.props.title})]})})})}}]),n}(c.Component),N=Object(_.h)(y),C=n(20),S=n(35),R=n.n(S),D=n(13),q=n(40),w=n(50),L=n(14),T=n.n(L),P=r.a.createContext(),I=r.a.createContext({user:null,setLoggedInUser:null}),U=function(e){var t=!1;return{promise:new Promise((function(n,a){e.then((function(e){return t?a({isCanceled:!0}):n(e)}),(function(e){return a(t?{isCanceled:!0}:e)}))})),cancel:function(){t=!0}}},E=function(){return new Headers({Authorization:"Token ".concat(T.a.get("token"))})},F=function(e){var t=e.children,n=Object(w.a)(e,["children"]);return Object(a.jsx)(_.c,Object(q.a)(Object(q.a)({},n),{},{render:function(e){var n=e.location;return Object(a.jsx)(I.Consumer,{children:function(e){return e.user?t:Object(a.jsx)(_.b,{to:{pathname:"/login",state:{from:n}}})}})}}))},A=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={sideNavActive:!1},a.handleSmallScreenNavClose=a.handleSmallScreenNavClose.bind(Object(C.a)(a)),a.handleSideNavToggle=a.handleSideNavToggle.bind(Object(C.a)(a)),a}return Object(l.a)(n,[{key:"handleSmallScreenNavClose",value:function(){window.innerWidth<768&&this.setState({sideNavActive:!1})}},{key:"handleSideNavToggle",value:function(){this.setState((function(e){return{sideNavActive:!e.sideNavActive}}))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:R.a.block,children:[Object(a.jsx)(f,{handleSmallScreenNavClose:this.handleSmallScreenNavClose,sideNavActive:this.state.sideNavActive,children:this.props.pages.map((function(t){return Object(a.jsx)(N,{container:D.a,title:t.title,url:t.url,faIcon:t.iconClass,icon:t.icon,handleSmallScreenNavClose:e.handleSmallScreenNavClose},t.url)}))}),Object(a.jsxs)("div",{className:R.a.content,children:[Object(a.jsx)(x,{handleSideNavToggle:this.handleSideNavToggle}),Object(a.jsxs)(_.e,{children:[this.props.pages.map((function(e){return Object(a.jsx)(F,{exact:!0,path:e.url,children:e.content},e.url)})),Object(a.jsx)(_.c,{path:"*",children:Object(a.jsx)(_.b,{to:"/"})})]})]})]})}}]),n}(r.a.Component),Q=n(45),B=n.n(Q),M=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=B.a.block;return void 0!==this.props.className&&(e+=" "+this.props.className),Object(a.jsx)("div",{className:e,children:this.props.children})}}]),n}(c.Component),z=n(28),W=n.n(z),H=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)(M,{className:this.props.className,children:Object(a.jsxs)("div",{className:W.a.block,children:[Object(a.jsx)("div",{className:W.a.header,children:Object(a.jsx)("h2",{className:W.a.title,children:this.props.title})}),this.props.content]})})}}]),n}(c.Component),Y=n(29),Z=n.n(Y),J=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchData=function(){a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api").concat(a.props.uri),{headers:E()})),a.netReq.promise.then((function(e){return 200!==e.status?null:e.json()})).then((function(e){e&&a.setState({data:a.props.extractData(e.data)})}),(function(e){console.error(e)}))},a.state={data:"-"},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchData(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.fetchData)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.fetchData),this.netReq&&this.netReq.cancel()}},{key:"render",value:function(){return Object(a.jsx)(M,{children:Object(a.jsx)("div",{className:Z.a.block,children:Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{className:Z.a.h2,children:this.props.metricName}),Object(a.jsx)("h3",{className:Z.a.h3,children:this.state.data.toLocaleString()})]})})})}}]),n}(c.Component);J.contextType=P;var G=J,K=n(36),V=n.n(K),X=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)(M,{children:Object(a.jsx)("div",{className:V.a.block,children:this.props.items.map((function(e,t){return Object(a.jsxs)("div",{className:V.a.item,children:[Object(a.jsx)("h3",{children:e.title}),Object(a.jsx)("h4",{children:e.body})]},t+e.title)}))})})}}]),n}(c.Component),$=n(15),ee=n.n($),te=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t="";return Object(a.jsxs)(M,{children:[Object(a.jsx)("div",{className:ee.a["title-cont"],children:Object(a.jsx)("h2",{className:ee.a.title,children:this.props.tableName})}),Object(a.jsx)("div",{className:ee.a["table-cont"],children:Object(a.jsxs)("table",{className:ee.a.table,children:[void 0!==this.props.headings&&Object(a.jsx)("thead",{className:ee.a.heading,children:Object(a.jsx)("tr",{children:this.props.headings.map((function(e,t){return Object(a.jsx)("th",{children:e},t)}))})}),Object(a.jsx)("tbody",{children:this.props.tableData.map((function(n,c){return Object(a.jsx)("tr",{className:ee.a.row,children:n.map((function(n,c){return 0===c&&!0===e.props.hideConcurrentSameSrNo&&(n===t&&(n=""),t=n),Object(a.jsx)("td",{children:n},c)}))},c)}))})]})})]})}}]),n}(c.Component),ne=n(17),ae=n.n(ne),ce=n(10),re=n.n(ce),se=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).chartRef=r.a.createRef(),a.activeButton="1w",a.timeUnit="day",a.refreshChart=function(){a.getChartDateRange(),a.fetchData()},a.getChartDateRange=function(){var e,t;"1d"===a.activeButton?(e=new Date,a.timeUnit="hour"):"1w"===a.activeButton?(e=new Date(Date.now()-5184e5),a.timeUnit="day"):"1m"===a.activeButton&&(e=new Date(Date.now()-2592e6),a.timeUnit="day"),e.setHours(0,0,0,0),(t=new Date).setHours(23,59,59,999),a.startTime=e,a.endTime=t},a.fetchData=function(){var e="".concat(a.activeButton);a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/output-timeseries/?start=").concat(a.startTime.toISOString(),"&end=").concat(a.endTime.toISOString()),{headers:E()})),a.netReq.promise.then((function(e){return 200!==e.status?null:e.json()})).then((function(t){t&&a.activeButton===e&&a.setState({labels:t.labels,data:t.data})}),(function(e){console.error(e)}))},a.buildChart=function(){var e=a.state,t=e.labels,n=e.data,c=a.chartRef.current.getContext("2d");"undefined"!==typeof a.chart&&a.chart.destroy(),a.chart=new ae.a(c,{type:"line",data:{labels:t.length===n.length?t:new Array(n.length).fill("Date"),datasets:[{label:"Output",data:n,borderColor:"#98B9AB",fill:!0}]},options:{elements:{line:{tension:0}},responsive:!0,maintainAspectRatio:!1,tooltips:{mode:"nearest",intersect:!1,axis:"x"},scales:{xAxes:[{type:"time",display:!0,scaleLabel:{display:!1},time:{tooltipFormat:"ll HH:mm",unit:a.timeUnit},ticks:{major:{fontStyle:"bold",fontColor:"#FF0000"}},distribution:"linear"}],yAxes:[{ticks:{beginAtZero:!0},display:!0,scaleLabel:{display:!1}}]}}})},a.state={labels:[],data:[]},a.startTime="",a.endTime="",a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.buildChart(),this.refreshChart(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.refreshChart)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.refreshChart),this.netReq&&this.netReq.cancel()}},{key:"componentDidUpdate",value:function(){this.buildChart()}},{key:"render",value:function(){var e=this;return Object(a.jsx)(M,{children:Object(a.jsxs)("div",{className:re.a.block,children:[Object(a.jsxs)("div",{className:re.a.header,children:[Object(a.jsx)("h2",{className:re.a.title,children:"Factory Output"}),Object(a.jsxs)("div",{className:re.a.filter,children:[Object(a.jsx)("button",{className:re.a.button+("1d"===this.activeButton?" "+re.a["btn-dark"]:""),onClick:function(){e.activeButton="1d",e.refreshChart()},children:"1d"}),Object(a.jsx)("button",{className:re.a.button+("1w"===this.activeButton?" "+re.a["btn-dark"]:""),onClick:function(){e.activeButton="1w",e.refreshChart()},children:"1w"}),Object(a.jsx)("button",{className:re.a.button+("1m"===this.activeButton?" "+re.a["btn-dark"]:""),onClick:function(){e.activeButton="1m",e.refreshChart()},children:"1m"})]})]}),Object(a.jsx)("div",{className:re.a.chart,children:Object(a.jsx)("canvas",{id:"output-chart",ref:this.chartRef})})]})})}}]),n}(c.Component);se.contextType=P;var ie=se,oe=n(22),le=n.n(oe),ue=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).chartRef=r.a.createRef(),a.fetchData=function(){a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/active-orders-status/"),{headers:E()})),a.netReq.promise.then((function(e){return 200!==e.status?null:e.json()})).then((function(e){if(e){var t=[],n=[],c=[];e.data.forEach((function(e){t.push(e.buyer),n.push(e.target),c.push(e.produced)})),a.setState({labels:t,target:n,produced:c})}}),(function(e){console.error(e)}))},a.state={labels:[],target:[],produced:[]},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.buildChart(),this.fetchData(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.fetchData)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.fetchData),this.netReq&&this.netReq.cancel()}},{key:"componentDidUpdate",value:function(){this.buildChart()}},{key:"buildChart",value:function(){var e=this.state,t=e.labels,n=e.target,a=e.produced,c=this.chartRef.current.getContext("2d");"undefined"!==typeof this.chart&&this.chart.destroy(),this.chart=new ae.a(c,{type:"horizontalBar",data:{labels:t.length===n.length?t:new Array(n.length).fill("PO"),datasets:[{label:"Target",data:n,backgroundColor:"#8d7aeb"},{label:"Produced",backgroundColor:"#42f581",data:a}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}},{key:"render",value:function(){return Object(a.jsx)(M,{children:Object(a.jsxs)("div",{className:le.a.block,children:[Object(a.jsx)("div",{className:le.a.header,children:Object(a.jsx)("h2",{className:le.a.title,children:"Production Orders Progress"})}),Object(a.jsx)("div",{className:le.a.chart,children:Object(a.jsx)("canvas",{id:"po-progress-chart",ref:this.chartRef})})]})})}}]),n}(c.Component);ue.contextType=P;var he=ue,de=n(46),je=n.n(de),be=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).fetchData=function(){c.netReq&&c.netReq.cancel(),c.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api","/defect/most-frequent/"),{headers:E()})),c.netReq.promise.then((function(e){return 200!==e.status?null:e.json()})).then((function(e){if(e){var t=[];e.data.forEach((function(e){var n=Object(a.jsxs)("div",{className:je.a["def-name"],children:[Object(a.jsx)("h3",{children:e.operation}),Object(a.jsx)("p",{children:e.defect})]});t.push([n,e.freq])})),c.setState({data:t})}}),(function(e){console.error(e)}))},c.state={headings:["Defect","Frequency"],data:[]},c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchData(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.fetchData)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.fetchData),this.netReq&&this.netReq.cancel()}},{key:"render",value:function(){return Object(a.jsx)(te,{hideConcurrentSameSrNo:!1,tableName:"Frequent Defects",headings:this.state.headings,tableData:this.state.data})}}]),n}(c.Component);be.contextType=P;var pe=be,fe=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).refresh=function(){a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/hourly-stats/"),{headers:E()})),a.netReq.promise.then((function(e){return 200!==e.status?[]:e.json()})).then((function(e){if(e&&e.headings&&e.tableData){var t=e.headings.map((function(e){return e.replaceAll("_"," ").toUpperCase()}));a.setState({headings:t,tableData:e.tableData})}}),(function(e){console.error(e)}))},a.state={headings:[],tableData:[]},a.shouldRefresh=!0,a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.refresh(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.refresh)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.refresh),this.netReq&&this.netReq.cancel()}},{key:"render",value:function(){return Object(a.jsx)(te,{hideConcurrentSameSrNo:!1,tableName:"Hourly Statistics",headings:this.state.headings,tableData:this.state.tableData})}}]),n}(c.Component);fe.contextType=P;var ve=fe,me=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).refresh=function(){a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/hourly-production/"),{headers:E()})),a.netReq.promise.then((function(e){return 200!==e.status?[]:e.json()})).then((function(e){e&&e.headings&&e.tableData&&a.setState({headings:e.headings,tableData:e.tableData})}),(function(e){console.error(e)}))},a.state={headings:[],tableData:[]},a.shouldRefresh=!0,a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.refresh(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.refresh)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.refresh),this.netReq&&this.netReq.cancel()}},{key:"render",value:function(){return Object(a.jsx)(te,{hideConcurrentSameSrNo:!1,tableName:"Hourly Production",headings:this.state.headings,tableData:this.state.tableData})}}]),n}(c.Component);me.contextType=P;var Oe=me,xe=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).refresh=function(){a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/key-stats/"),{headers:E()})),a.netReq.promise.then((function(e){return 200!==e.status?[]:e.json()})).then((function(e){if(e&&e.headings&&e.tableData){var t=e.headings.map((function(e){return e.replaceAll("_"," ").toUpperCase()}));a.setState({headings:t,tableData:e.tableData})}}),(function(e){console.error(e)}))},a.state={headings:[],tableData:[]},a.shouldRefresh=!0,a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.refresh(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.refresh)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.refresh),this.netReq&&this.netReq.cancel()}},{key:"render",value:function(){return Object(a.jsx)(te,{hideConcurrentSameSrNo:!0,tableName:"Key Statistics",headings:this.state.headings,tableData:this.state.tableData})}}]),n}(c.Component);xe.contextType=P;var _e=xe,ge=n(49),ke=n(23),ye=n.n(ke),Ne=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchData=function(){a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/factory-efficiency/"),{headers:E()})),a.netReq.promise.then((function(e){return 200!==e.status?null:e.json()})).then((function(e){if(e){var t=0;if(0===e.target||0===e.actual)t=0;else{var n=e.actual/e.target*100;t=isNaN(n)?0:n}a.setState({actual:e.actual,target:e.target,hitRate:t})}}),(function(e){console.error(e)}))},a.state={target:0,actual:0,hitRate:0},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.fetchData(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",(function(){return e.fetchData()}))}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.fetchData),this.netReq&&this.netReq.cancel()}},{key:"render",value:function(){var e=this,t=Object(a.jsxs)("div",{className:ye.a.block,children:[Object(a.jsxs)("div",{className:ye.a.chart,children:[Object(a.jsx)(ge.a,{gapDegree:40,gapPosition:"top",strokeWidth:6,trailWidth:6,strokeLinecap:"round",percent:e.state.hitRate>100?100:e.state.hitRate}),Object(a.jsxs)("div",{className:ye.a.stat,children:[Object(a.jsxs)("h4",{children:[this.state.actual.toFixed(2),"%"]}),Object(a.jsxs)("p",{children:["Target: ",this.state.target.toFixed(2),"%"]})]})]}),Object(a.jsx)("div",{className:ye.a.footer,children:Object(a.jsxs)("h4",{children:["Efficiency Hit Rate: ",Object(a.jsxs)("strong",{children:[this.state.hitRate.toFixed(2),"%"]})]})})]});return Object(a.jsx)(H,{title:"Factory Efficiency",content:t})}}]),n}(c.Component);Ne.contextType=P;var Ce=Ne,Se=n(37),Re=n.n(Se),De=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).chartRef=r.a.createRef(),a.fetchData=function(){a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/active-qc-actions/"),{headers:E()})),a.netReq.promise.then((function(e){return 200!==e.status?null:e.json()})).then((function(e){e&&a.setState({ftt:e.ftt,defective:e.defective,rectified:e.rectified,rejected:e.rejected})}),(function(e){console.error(e)}))},a.buildChart=function(){var e=a.chartRef.current.getContext("2d");"undefined"!==typeof a.chart&&a.chart.destroy(),a.chart=new ae.a(e,{type:"doughnut",data:{datasets:[{data:[a.state.ftt,a.state.defective,a.state.rectified,a.state.rejected],backgroundColor:["#008450","#EFB700","#336dc4","#B81D13"]}],labels:["Pass","Defective","Rectified","Alter"]},options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:.8,legend:{position:"bottom"},animation:{animateScale:!0,animateRotate:!0},title:{display:!1}}})},a.state={ftt:0,defective:0,rectified:0,rejected:0},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.buildChart(),this.fetchData(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.fetchData)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.fetchData),this.netReq&&this.netReq.cancel()}},{key:"componentDidUpdate",value:function(){this.buildChart()}},{key:"render",value:function(){var e=Object(a.jsx)("div",{className:Re.a.block,children:Object(a.jsx)("div",{className:Re.a.chart,children:Object(a.jsx)("canvas",{id:"output-chart",ref:this.chartRef})})});return Object(a.jsx)(H,{title:"Quality Report",content:e})}}]),n}(c.Component);De.contextType=P;var qe=De,we=n(16),Le=n.n(we),Te=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:Le.a.block,children:Object(a.jsxs)(M,{className:Le.a.card,children:[Object(a.jsx)("select",{className:Le.a.input,children:Object(a.jsx)("option",{value:"#",children:"Choose Line"})}),Object(a.jsx)("select",{className:Le.a.input,children:Object(a.jsx)("option",{value:"#",children:"Choose Style"})}),Object(a.jsx)("input",{className:Le.a.input,type:"date",id:"startDate",name:"startDate"}),Object(a.jsx)("span",{children:"To"}),Object(a.jsx)("input",{className:Le.a.input,type:"date",id:"endDate",name:"endDate"})]})})}}]),n}(c.Component),Pe=n(38),Ie=n.n(Pe),Ue=function(e){var t=e.title,n=e.metric,c=e.metricPer,r=e.color;return Object(a.jsxs)("div",{className:Ie.a["report-item"],children:[Object(a.jsx)("h3",{style:{color:r},children:t}),Object(a.jsx)("h4",{children:n}),Object(a.jsx)("h4",{children:c})]})},Ee=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=Object(a.jsxs)("div",{className:Ie.a.block,children:[Object(a.jsx)(Ue,{title:"FTT",metric:"2100",metricPer:"91.3%",color:"#008450"}),Object(a.jsx)(Ue,{title:"Rejected",metric:"10",metricPer:"0.43%",color:"#B81D13"}),Object(a.jsx)(Ue,{title:"Defective",metric:"190",metricPer:"8.26%",color:"#EFB700"}),Object(a.jsx)(Ue,{title:"Rectified",metric:"95",metricPer:"4.13%",color:"#336dc4"})]});return Object(a.jsx)("div",{children:Object(a.jsx)(H,{title:"Quality Report",content:e})})}}]),n}(c.Component),Fe=n(24),Ae=n.n(Fe),Qe=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).imgRef=r.a.createRef(),a}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)(I.Consumer,{children:function(t){var n=t.user;return n?Object(a.jsx)("div",{className:Ae.a.block,children:Object(a.jsx)(D.a,{to:"/settings",children:Object(a.jsxs)("div",{className:Ae.a.content,children:[Object(a.jsx)("div",{className:Ae.a.img,children:n.image?Object(a.jsx)("img",{ref:e.imgRef,src:n.image,draggable:"false",onError:function(){return e.imgRef.current.style.display="none"}}):Object(a.jsx)("span",{className:"fas fa-user-alt"})}),n.name?Object(a.jsx)("span",{className:Ae.a.name,children:n.name}):""]})})}):""}})}}]),n}(c.Component),Be=n(30),Me=n.n(Be),ze=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:Me.a.block,children:[Object(a.jsx)(ie,{}),Object(a.jsxs)("div",{className:Me.a["metric-cards-cont"],children:[Object(a.jsx)(G,{metricName:"Production Orders",uri:"/metric/active-orders-status/",extractData:function(e){return e.length}}),Object(a.jsx)(G,{metricName:"Production Output",uri:"/metric/active-orders-status/",extractData:function(e){return e.map((function(e){return e.produced})).reduce((function(e,t){return e+t}))}}),Object(a.jsx)(G,{metricName:"Order Quantity",uri:"/metric/active-orders-status/",extractData:function(e){return e.map((function(e){return e.target})).reduce((function(e,t){return e+t}))}}),Object(a.jsx)(G,{metricName:"Active Lines",uri:"/metric/active-lines/",extractData:function(e){return e.length}}),Object(a.jsx)(G,{metricName:"Operators",uri:"/metric/active-operators/",extractData:function(e){return e}}),Object(a.jsx)(G,{metricName:"Helpers",uri:"/metric/active-helpers/",extractData:function(e){return e}})]}),Object(a.jsxs)("div",{className:Me.a["detail-cards-cont"],children:[Object(a.jsx)(he,{}),Object(a.jsx)(Ce,{}),Object(a.jsx)(qe,{}),Object(a.jsx)(pe,{})]}),Object(a.jsx)(Oe,{}),Object(a.jsx)(ve,{}),Object(a.jsx)(_e,{})]})}}]),n}(c.Component),We=n(39),He=n.n(We),Ye=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:He.a.block,children:Object(a.jsxs)("div",{className:He.a["account-options"],children:[Object(a.jsx)("h1",{children:"Account Settings"}),Object(a.jsx)(nt,{})]})})}}]),n}(c.Component),Ze=n(47),Je=n.n(Ze),Ge=(c.Component,n(11)),Ke=n.n(Ge);d.b.add([j.h,j.f]);var Ve=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleUserNameChange=function(e){a.setState({username:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api","/login/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a.state.username,password:a.state.password})})),a.netReq.promise.then((function(e){200!==e.status?a.setState({message:"Wrong username or password"}):e.json().then((function(e){"token"in e&&T.a.set("token",e.token,{sameSite:!0}),(0,a.context.setLoggedInUser)({}),a.props.history.push("/")}))}),(function(e){console.error(e)}))},a.state={username:"",password:"",message:""},a}return Object(l.a)(n,[{key:"componentWillUnmount",value:function(){this.netReq&&this.netReq.cancel()}},{key:"render",value:function(){return Object(a.jsx)("div",{className:Ke.a.block,children:Object(a.jsx)("div",{className:Ke.a.content,children:Object(a.jsxs)(M,{className:Ke.a.card,children:[Object(a.jsx)("div",{className:Ke.a.title,children:Object(a.jsx)("h3",{children:"Login to Uazo"})}),Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:Ke.a["form-group"],children:[Object(a.jsx)("label",{children:"Your Username"}),Object(a.jsxs)("div",{className:Ke.a["input-group"],children:[Object(a.jsx)("span",{children:Object(a.jsx)("svg",{class:"fas fa-envelope"})}),Object(a.jsx)("input",{type:"text",value:this.state.username,placeholder:"Username",onChange:this.handleUserNameChange})]})]}),Object(a.jsxs)("div",{className:Ke.a["form-group"],children:[Object(a.jsx)("label",{children:"Your Password"}),Object(a.jsxs)("div",{className:Ke.a["input-group"],children:[Object(a.jsx)("span",{children:Object(a.jsx)("svg",{class:"fas fa-unlock-alt"})}),Object(a.jsx)("input",{type:"password",value:this.state.password,placeholder:"Password",onChange:this.handlePasswordChange})]})]}),Object(a.jsx)("span",{className:Ke.a.message,children:this.state.message}),Object(a.jsx)("button",{className:Ke.a.submit,children:"Login"})]})]})})})}}]),n}(c.Component);Ve.contextType=I;var Xe=Object(_.h)(Ve),$e=n(48),et=n.n($e),tt=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)("button",{className:et.a.block,onClick:function(){T.a.remove("token"),(0,e.context.setLoggedInUser)(null)},children:"Logout"})}}]),n}(c.Component);tt.contextType=I;var nt=tt;d.b.add([j.e,j.d,j.c]),d.a.watch();var at=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).eventSource=new EventSource("".concat("https://uazo-serve.herokuapp.com","/sse/event/")),a.setLoggedInUser=function(e){a.setState({user:e})},a.state={user:T.a.get("token")?{}:null,setLoggedInUser:a.setLoggedInUser},a}return Object(l.a)(n,[{key:"componentWillUnmount",value:function(){this.eventSource.close()}},{key:"render",value:function(){return Object(a.jsx)(I.Provider,{value:this.state,children:Object(a.jsx)(_.a,{children:Object(a.jsxs)(_.e,{children:[Object(a.jsx)(_.c,{exact:!0,path:"/login",children:Object(a.jsx)(Xe,{})}),Object(a.jsx)(_.c,{path:"",children:Object(a.jsx)(P.Provider,{value:this.eventSource,children:Object(a.jsx)(A,{pages:[{content:Object(a.jsx)(ze,{}),title:"Overview",url:"/",iconClass:"fas fa-chart-pie"},{content:Object(a.jsx)(Ye,{}),title:"Settings",url:"/settings",iconClass:"fas fa-cog"}]})})})]})})})}}]),n}(c.Component),ct=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(at,{})}),document.getElementById("root")),ct()}],[[66,1,2]]]);
//# sourceMappingURL=main.46a39987.chunk.js.map