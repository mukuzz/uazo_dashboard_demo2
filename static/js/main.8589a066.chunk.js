(this["webpackJsonpuazo-dashboard"]=this["webpackJsonpuazo-dashboard"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports={block:"Login_block__Cgb-E",content:"Login_content__31Hc4","back-link":"Login_back-link__38gxy",card:"Login_card__1wesA",title:"Login_title__33x7x","form-group":"Login_form-group__3mrrw","input-group":"Login_input-group__2w8u-",message:"Login_message__9NFX4",submit:"Login_submit__3r-dq"}},,,,function(e,t,n){e.exports={"table-cont":"Table_table-cont__r9qBv","title-cont":"Table_title-cont__3w7AI",title:"Table_title__3RWda",table:"Table_table__3qmb0",heading:"Table_heading__10IME",row:"Table_row__2OIQY"}},,function(e,t,n){e.exports={block:"SideNavItem_block__3Q4jU",text:"SideNavItem_text__1DlEG",icon:"SideNavItem_icon__1anzi",content:"SideNavItem_content__3wXm2"}},function(e,t,n){e.exports={block:"FactoryOutputChart_block__2oZAM",header:"FactoryOutputChart_header__2A0Fb",title:"FactoryOutputChart_title__3hs7o",filter:"FactoryOutputChart_filter__2336O",chart:"FactoryOutputChart_chart__1qf_u"}},function(e,t,n){e.exports={block:"ProgressCharts_block__1ced3",header:"ProgressCharts_header__2f9Xs",title:"ProgressCharts_title__3QrQg",filter:"ProgressCharts_filter__3VTK1",chart:"ProgressCharts_chart__uSjsu"}},,,function(e,t,n){e.exports={block:"TopNav_block__P68o2",content:"TopNav_content__3nUDE",button:"TopNav_button__3egls",logo:"TopNav_logo__39ZOZ",notification:"TopNav_notification__32VQq"}},function(e,t,n){e.exports={block:"EfficiencyChart_block__39AL6",chart:"EfficiencyChart_chart__12viz",stat:"EfficiencyChart_stat__eGao1",footer:"EfficiencyChart_footer__2S-Cd"}},function(e,t,n){e.exports={block:"Filter_block__19iNY",card:"Filter_card__17nJb",input:"Filter_input__UUK1k"}},function(e,t,n){e.exports={block:"ProfileSmall_block__1Drum",content:"ProfileSmall_content__1ncPU",img:"ProfileSmall_img__PWfYe",name:"ProfileSmall_name__W6Yai"}},,,function(e,t,n){e.exports={block:"SideNav_block__2oUu-",list:"SideNav_list__3_3r3",button:"SideNav_button__oRjgj"}},function(e,t,n){e.exports={block:"TitledCard_block__3Rjdb",header:"TitledCard_header__1Sky9",title:"TitledCard_title__2q4-5"}},function(e,t,n){e.exports={block:"MetricCard_block__2p1BT",h2:"MetricCard_h2__ukYc0",h3:"MetricCard_h3__nMTN_",icon:"MetricCard_icon__15ieD"}},function(e,t,n){e.exports={block:"Overview_block__24MnV","metric-cards-cont":"Overview_metric-cards-cont__kOg0o","detail-cards-cont":"Overview_detail-cards-cont__2xCCC"}},,,,,function(e,t,n){e.exports={block:"NavLayout_block__K_i9S",content:"NavLayout_content__2_sLe"}},function(e,t,n){e.exports={block:"MetricStrip_block__3Dvhf",item:"MetricStrip_item__1s1Gm"}},function(e,t,n){e.exports={block:"QualityReportChart_block__-xZFA",chart:"QualityReportChart_chart__2SqDp"}},function(e,t,n){e.exports={block:"QualityReport_block__15rFH","report-item":"QualityReport_report-item__XPS23"}},function(e,t,n){e.exports={block:"Settings_block__bhfQr","account-options":"Settings_account-options__INd5g"}},function(e,t,n){e.exports={block:"Stitching_block__30o2b","metric-strips-cont":"Stitching_metric-strips-cont__2Hksr","detail-cards-cont":"Stitching_detail-cards-cont__2UgNz"}},,,,,,function(e,t,n){e.exports={block:"Card_block__1JQrE"}},function(e,t,n){e.exports={"def-name":"FrequentDefectsTable_def-name__2_979"}},function(e,t,n){e.exports={block:"LogoutButton_block__PHuqw"}},,,,,,,,function(e,t,n){},,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n.n(c),i=n(44),s=n.n(i),o=(n(56),n(2)),l=n(3),u=n(5),h=n(4),d=n(12),f=n(7),j=n(27),p=n.n(j);d.b.add([f.g]);var b=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("nav",{id:"sidebarMenu",className:p.a.block,"data-active":"".concat(this.props.sideNavActive),children:[Object(a.jsx)("button",{className:p.a.button,onClick:this.props.handleNavClose,children:Object(a.jsx)("span",{className:"fas fa-times"})}),Object(a.jsx)("ul",{className:p.a.list,children:this.props.children})]})}}]),n}(c.Component),v=n(21),m=n.n(v),O=n(11),x=n.p+"static/media/logo.c04a650d.svg";d.b.add([f.a,f.i,f.b]);var g=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("nav",{className:m.a.block,"data-active":"".concat(this.props.sideNavActive),children:Object(a.jsxs)("div",{className:m.a.content,children:[Object(a.jsx)("button",{className:m.a.button,onClick:this.props.handleSideNavToggle,children:Object(a.jsx)("span",{className:"fas fa-bars"})}),Object(a.jsx)("div",{className:m.a.logo,style:{backgroundImage:'url("'.concat(x,'")')},children:Object(a.jsx)(O.a,{to:"/"})}),Object(a.jsx)(Me,{})]})})}}]),n}(c.Component),_=n(6),y=n(16),k=n.n(y),D=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.container;return Object(a.jsx)("li",{className:k.a.block,children:Object(a.jsx)(e,{to:this.props.url,children:Object(a.jsxs)("div",{className:k.a.content,"data-active":"".concat(this.props.url===this.props.location.pathname),onClick:this.props.handleNavClose,children:[Object(a.jsx)("span",{className:k.a.text,children:Object(a.jsx)("span",{className:k.a.icon+" "+this.props.faIcon})}),Object(a.jsx)("span",{className:k.a.text,children:this.props.title})]})})})}}]),n}(c.Component),S=Object(_.h)(D),N=n(20),C=n(35),R=n.n(C),q=n(41),T=n(50),w=n(13),I=n.n(w),L=r.a.createContext(),P=r.a.createContext({loggedIn:!1,setUserLogInState:null}),U=function(e){var t=!1;return{promise:new Promise((function(n,a){e.then((function(e){return t?a({isCanceled:!0}):n(e)}),(function(e){return a(t?{isCanceled:!0}:e)}))})),cancel:function(){t=!0}}},E=function(){return new Headers({Authorization:"Token ".concat(I.a.get("token"))})},F=function(e){var t=new Date(e),n=""+(t.getMonth()+1),a=""+t.getDate(),c=t.getFullYear();return n.length<2&&(n="0"+n),a.length<2&&(a="0"+a),[c,n,a].join("-")},A=function(e){var t=e.children,n=Object(T.a)(e,["children"]);return Object(a.jsx)(_.c,Object(q.a)(Object(q.a)({},n),{},{render:function(e){var n=e.location;return Object(a.jsx)(P.Consumer,{children:function(e){return e.loggedIn?t:Object(a.jsx)(_.b,{to:{pathname:"/login",state:{from:n}}})}})}}))},Q=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={sideNavActive:!1},a.handleNavClose=a.handleNavClose.bind(Object(N.a)(a)),a.handleSideNavToggle=a.handleSideNavToggle.bind(Object(N.a)(a)),a}return Object(l.a)(n,[{key:"handleNavClose",value:function(){this.setState({sideNavActive:!1})}},{key:"handleSideNavToggle",value:function(){this.setState((function(e){return{sideNavActive:!e.sideNavActive}}))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:R.a.block,children:[Object(a.jsx)(g,{handleSideNavToggle:this.handleSideNavToggle,sideNavActive:this.state.sideNavActive}),Object(a.jsx)(b,{handleNavClose:this.handleNavClose,sideNavActive:this.state.sideNavActive,children:this.props.pages.map((function(t){return Object(a.jsx)(S,{container:O.a,title:t.title,url:t.url,faIcon:t.iconClass,handleNavClose:e.handleNavClose},t.url)}))}),Object(a.jsx)("div",{className:R.a.content,"data-active":"".concat(this.state.sideNavActive),children:Object(a.jsxs)(_.e,{children:[this.props.pages.map((function(e){return Object(a.jsx)(A,{exact:!0,path:e.url,children:e.content},e.url)})),Object(a.jsx)(_.c,{path:"*",children:Object(a.jsx)(_.b,{to:"/"})})]})})]})}}]),n}(r.a.Component),M=n(46),B=n.n(M),z=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=B.a.block;return void 0!==this.props.className&&(e+=" "+this.props.className),Object(a.jsx)("div",{className:e,children:this.props.children})}}]),n}(c.Component),W=n(28),H=n.n(W),Y=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)(z,{className:this.props.className,children:Object(a.jsxs)("div",{className:H.a.block,children:[Object(a.jsx)("div",{className:H.a.header,children:Object(a.jsx)("h2",{className:H.a.title,children:this.props.title})}),this.props.content]})})}}]),n}(c.Component),Z=n(29),J=n.n(Z),K=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchData=function(){a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api").concat(a.props.uri),{headers:E()})),a.netReq.promise.then((function(e){return 200!==e.status?null:e.json()})).then((function(e){e&&a.setState({data:a.props.extractData(e.data)})}),(function(e){console.error(e)}))},a.state={data:"-"},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchData(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.fetchData)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.fetchData),this.netReq&&this.netReq.cancel()}},{key:"render",value:function(){return Object(a.jsx)(z,{children:Object(a.jsx)("div",{className:J.a.block,children:Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{className:J.a.h2,children:this.props.metricName}),Object(a.jsx)("h3",{className:J.a.h3,children:this.state.data.toLocaleString()})]})})})}}]),n}(c.Component);K.contextType=L;var X=K,G=n(36),V=n.n(G),$=(c.Component,n(14)),ee=n.n($),te=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t="";return Object(a.jsxs)(z,{children:[Object(a.jsx)("div",{className:ee.a["title-cont"],children:Object(a.jsx)("h2",{className:ee.a.title,children:this.props.tableName})}),Object(a.jsx)("div",{className:ee.a["table-cont"],children:Object(a.jsxs)("table",{className:ee.a.table,children:[void 0!==this.props.headings&&Object(a.jsx)("thead",{className:ee.a.heading,children:Object(a.jsx)("tr",{children:this.props.headings.map((function(e,t){return Object(a.jsx)("th",{children:e},t)}))})}),Object(a.jsx)("tbody",{children:this.props.tableData.map((function(n,c){return Object(a.jsx)("tr",{className:ee.a.row,children:n.map((function(n,c){return 0===c&&!0===e.props.hideConcurrentSameSrNo&&(n===t&&(n=""),t=n),Object(a.jsx)("td",{children:n},c)}))},c)}))})]})})]})}}]),n}(c.Component),ne=n(15),ae=n.n(ne),ce=n(17),re=n.n(ce),ie=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).chartRef=r.a.createRef(),a.activeButton="1d",a.timeUnit="day",a.refreshChart=function(){a.getChartDateRange(),a.fetchData()},a.getChartDateRange=function(){var e,t;"1d"===a.activeButton?(e=new Date,a.timeUnit="hour"):"1w"===a.activeButton?(e=new Date(Date.now()-5184e5),a.timeUnit="day"):"1m"===a.activeButton&&(e=new Date(Date.now()-2592e6),a.timeUnit="day"),e.setHours(0,0,0,0),(t=new Date).setHours(23,59,59,999),a.startTime=e,a.endTime=t},a.fetchData=function(){var e="".concat(a.activeButton);a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/output-timeseries/?start=").concat(a.startTime.toISOString(),"&end=").concat(a.endTime.toISOString()),{headers:E()})),a.netReq.promise.then((function(e){return 200!==e.status?null:e.json()})).then((function(t){t&&a.activeButton===e&&a.setState({labels:t.labels,data:t.data})}),(function(e){console.error(e)}))},a.buildChart=function(){var e=a.state,t=e.labels,n=e.data,c=a.chartRef.current.getContext("2d");"undefined"!==typeof a.chart&&a.chart.destroy(),a.chart=new ae.a(c,{type:"line",data:{labels:t.length===n.length?t:new Array(n.length).fill("Date"),datasets:[{label:"Output",data:n,borderColor:"#98B9AB",fill:!0}]},options:{elements:{line:{tension:0}},responsive:!0,maintainAspectRatio:!1,tooltips:{mode:"nearest",intersect:!1,axis:"x"},scales:{xAxes:[{type:"time",display:!0,scaleLabel:{display:!1},time:{tooltipFormat:"ll HH:mm",unit:a.timeUnit},ticks:{major:{fontStyle:"bold",fontColor:"#FF0000"}},distribution:"linear"}],yAxes:[{ticks:{beginAtZero:!0},display:!0,scaleLabel:{display:!1}}]}}})},a.state={labels:[],data:[]},a.startTime="",a.endTime="",a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.buildChart(),this.refreshChart(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.refreshChart)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.refreshChart),this.netReq&&this.netReq.cancel()}},{key:"componentDidUpdate",value:function(){this.buildChart()}},{key:"render",value:function(){var e=this;return Object(a.jsx)(z,{children:Object(a.jsxs)("div",{className:re.a.block,children:[Object(a.jsxs)("div",{className:re.a.header,children:[Object(a.jsx)("h2",{className:re.a.title,children:"Factory Output"}),Object(a.jsxs)("div",{className:re.a.filter,children:[Object(a.jsx)("button",{"data-active":"1d"===this.activeButton,onClick:function(){e.activeButton="1d",e.refreshChart()},children:"1d"}),Object(a.jsx)("button",{"data-active":"1w"===this.activeButton,onClick:function(){e.activeButton="1w",e.refreshChart()},children:"1w"}),Object(a.jsx)("button",{"data-active":"1m"===this.activeButton,onClick:function(){e.activeButton="1m",e.refreshChart()},children:"1m"})]})]}),Object(a.jsx)("div",{className:re.a.chart,children:Object(a.jsx)("canvas",{id:"output-chart",ref:this.chartRef})})]})})}}]),n}(c.Component);ie.contextType=L;var se=ie,oe=n(18),le=n.n(oe),ue=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).chartRef=r.a.createRef(),a.fetchData=function(){var e=a.props.filterDateTime;e||(e=new Date);var t=a.props.filterStyle;t||(t=""),a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api").concat(a.chartOptions[a.activeChart],"?filterDateTime=").concat(e.toISOString(),"&filterStyle=").concat(t),{headers:E()})),a.netReq.promise.then((function(e){return 200!==e.status?null:e.json()})).then((function(e){if(e){var t=[],n=[],c=[];e.data.forEach((function(e){t.push(e.label),n.push(e.target),c.push(e.produced)})),a.setState({labels:t,target:n,produced:c})}}),(function(e){console.error(e)}))},a.state={labels:[],target:[],produced:[]},a.chartOptions={orders:"/metric/active-orders-progress/",styles:"/metric/active-styles-progress/",lines:"/metric/lines-progress/"},a.activeChart="orders",a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.buildChart(),this.fetchData(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.fetchData)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.fetchData),this.netReq&&this.netReq.cancel()}},{key:"componentDidUpdate",value:function(e){e.filterDateTime!==this.props.filterDateTime?this.fetchData():this.buildChart()}},{key:"buildChart",value:function(){var e=this.state,t=e.labels,n=e.target,a=e.produced,c=this.chartRef.current.getContext("2d");"undefined"!==typeof this.chart&&this.chart.destroy(),this.chart=new ae.a(c,{type:"horizontalBar",data:{labels:t.length===n.length?t:new Array(n.length).fill("-"),datasets:[{label:"Target",data:n,backgroundColor:"#8d7aeb"},{label:"Produced",backgroundColor:"#42f581",data:a}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{ticks:{beginAtZero:!0}}]}}})}},{key:"render",value:function(){var e=this;return Object(a.jsx)(z,{children:Object(a.jsxs)("div",{className:le.a.block,children:[Object(a.jsxs)("div",{className:le.a.header,children:[Object(a.jsx)("h2",{className:le.a.title,children:"Progress"}),Object(a.jsxs)("div",{className:le.a.filter,children:[Object(a.jsx)("button",{"data-active":"orders"===this.activeChart,onClick:function(){e.activeChart="orders",e.fetchData()},children:"Orders"}),Object(a.jsx)("button",{"data-active":"styles"===this.activeChart,onClick:function(){e.activeChart="styles",e.fetchData()},children:"Styles"}),Object(a.jsx)("button",{"data-active":"lines"===this.activeChart,onClick:function(){e.activeChart="lines",e.fetchData()},children:"Lines"})]})]}),Object(a.jsx)("div",{className:le.a.chart,children:Object(a.jsx)("canvas",{id:"po-progress-chart",ref:this.chartRef})})]})})}}]),n}(c.Component);ue.contextType=L;var he=ue,de=n(47),fe=n.n(de),je=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).fetchData=function(){var e=c.props.filterDateTime;e||(e=new Date),c.netReq&&c.netReq.cancel(),c.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/frequent-defects/?filterDateTime=").concat(e.toISOString()),{headers:E()})),c.netReq.promise.then((function(e){return 200!==e.status?null:e.json()})).then((function(e){if(e){var t=[];e.data.forEach((function(e){var n=Object(a.jsxs)("div",{className:fe.a["def-name"],children:[Object(a.jsx)("h3",{children:e.operation}),Object(a.jsx)("p",{children:e.defect})]});t.push([n,e.freq,e.affected_lines])})),c.setState({data:t})}}),(function(e){console.error(e)}))},c.state={headings:["Defect","Frequency","Line(s) Affected"],data:[]},c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchData(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.fetchData)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.fetchData),this.netReq&&this.netReq.cancel()}},{key:"componentDidUpdate",value:function(e){e.filterDateTime!==this.props.filterDateTime&&this.fetchData()}},{key:"render",value:function(){return Object(a.jsx)(te,{hideConcurrentSameSrNo:!1,tableName:"Frequent Defects",headings:this.state.headings,tableData:this.state.data})}}]),n}(c.Component);je.contextType=L;var pe=je,be=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).refresh=function(){var e=a.props.filterDateTime;e||(e=new Date),a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/hourly-stats/?filterDateTime=").concat(e.toISOString()),{headers:E()})),a.netReq.promise.then((function(e){return 200!==e.status?[]:e.json()})).then((function(e){if(e&&e.headings&&e.tableData){var t=e.headings.map((function(e){return e.replaceAll("_"," ").toUpperCase()}));a.setState({headings:t,tableData:e.tableData})}}),(function(e){console.error(e)}))},a.state={headings:[],tableData:[]},a.shouldRefresh=!0,a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.refresh(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.refresh)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.refresh),this.netReq&&this.netReq.cancel()}},{key:"componentDidUpdate",value:function(e){e.filterDateTime!==this.props.filterDateTime&&this.refresh()}},{key:"render",value:function(){return Object(a.jsx)(te,{hideConcurrentSameSrNo:!1,tableName:"Hourly Statistics",headings:this.state.headings,tableData:this.state.tableData})}}]),n}(c.Component);be.contextType=L;var ve=be,me=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).refresh=function(){var e=a.props.filterDateTime;e||(e=new Date),a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/hourly-production/?filterDateTime=").concat(e.toISOString()),{headers:E()})),a.netReq.promise.then((function(e){return 200!==e.status?[]:e.json()})).then((function(e){e&&e.headings&&e.tableData&&a.setState({headings:e.headings,tableData:e.tableData})}),(function(e){console.error(e)}))},a.state={headings:[],tableData:[]},a.shouldRefresh=!0,a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.refresh(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.refresh)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.refresh),this.netReq&&this.netReq.cancel()}},{key:"componentDidUpdate",value:function(e){e.filterDateTime!==this.props.filterDateTime&&this.refresh()}},{key:"render",value:function(){return Object(a.jsx)(te,{hideConcurrentSameSrNo:!1,tableName:"Hourly Production",headings:this.state.headings,tableData:this.state.tableData})}}]),n}(c.Component);me.contextType=L;var Oe=me,xe=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).refresh=function(){var e=a.props.filterDateTime;e||(e=new Date),a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/key-stats/?filterDateTime=").concat(e.toISOString()),{headers:E()})),a.netReq.promise.then((function(e){return 200!==e.status?[]:e.json()})).then((function(e){if(e&&e.headings&&e.tableData){var t=e.headings.map((function(e){return e.replaceAll("_"," ").toUpperCase()}));a.setState({headings:t,tableData:e.tableData})}}),(function(e){console.error(e)}))},a.state={headings:[],tableData:[]},a.shouldRefresh=!0,a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.refresh(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.refresh)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.refresh),this.netReq&&this.netReq.cancel()}},{key:"componentDidUpdate",value:function(e){e.filterDateTime!==this.props.filterDateTime&&this.refresh()}},{key:"render",value:function(){return Object(a.jsx)(te,{hideConcurrentSameSrNo:!0,tableName:"Key Statistics",headings:this.state.headings,tableData:this.state.tableData})}}]),n}(c.Component);xe.contextType=L;var ge=xe,_e=n(49),ye=n(22),ke=n.n(ye),De=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchData=function(){var e=a.props.filterDateTime;e||(e=new Date);var t=a.props.filterStyle;t||(t=""),a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/factory-efficiency/?filterDateTime=").concat(e.toISOString(),"&filterStyle=").concat(t),{headers:E()})),a.netReq.promise.then((function(e){return 200!==e.status?null:e.json()})).then((function(e){if(e){var t=0;if(0===e.target||0===e.actual)t=0;else{var n=e.actual/e.target*100;t=isNaN(n)?0:n}a.setState({actual:e.actual,target:e.target,hitRate:t})}}),(function(e){console.error(e)}))},a.state={target:0,actual:0,hitRate:0},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.fetchData(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",(function(){return e.fetchData()}))}},{key:"componentDidUpdate",value:function(e){e.filterDateTime!==this.props.filterDateTime&&this.fetchData()}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.fetchData),this.netReq&&this.netReq.cancel()}},{key:"render",value:function(){var e=this,t=Object(a.jsxs)("div",{className:ke.a.block,children:[Object(a.jsxs)("div",{className:ke.a.chart,children:[Object(a.jsx)(_e.a,{gapDegree:40,gapPosition:"top",strokeWidth:6,trailWidth:6,strokeLinecap:"round",percent:e.state.hitRate>100?100:e.state.hitRate}),Object(a.jsxs)("div",{className:ke.a.stat,children:[Object(a.jsxs)("h4",{children:[this.state.actual.toFixed(2),"%"]}),Object(a.jsxs)("p",{children:["Target: ",this.state.target.toFixed(2),"%"]})]})]}),Object(a.jsx)("div",{className:ke.a.footer,children:Object(a.jsxs)("h4",{children:["Efficiency Realized (Pct): ",Object(a.jsxs)("strong",{children:[this.state.hitRate.toFixed(2),"%"]})]})})]});return Object(a.jsx)(Y,{title:this.props.title,content:t})}}]),n}(c.Component);De.contextType=L;var Se=De,Ne=n(37),Ce=n.n(Ne),Re=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).chartRef=r.a.createRef(),a.fetchData=function(){a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/active-qc-actions/"),{headers:E()})),a.netReq.promise.then((function(e){return 200!==e.status?null:e.json()})).then((function(e){e&&a.setState({ftt:e.ftt,defective:e.defective,rectified:e.rectified,rejected:e.rejected})}),(function(e){console.error(e)}))},a.buildChart=function(){var e=a.chartRef.current.getContext("2d");"undefined"!==typeof a.chart&&a.chart.destroy(),a.chart=new ae.a(e,{type:"doughnut",data:{datasets:[{data:[a.state.ftt,a.state.defective,a.state.rectified,a.state.rejected],backgroundColor:["#008450","#EFB700","#336dc4","#B81D13"]}],labels:["Pass","Defective","Rectified","Alter"]},options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:.8,legend:{position:"bottom"},animation:{animateScale:!0,animateRotate:!0},title:{display:!1}}})},a.state={ftt:0,defective:0,rectified:0,rejected:0},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.buildChart(),this.fetchData(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.fetchData)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.fetchData),this.netReq&&this.netReq.cancel()}},{key:"componentDidUpdate",value:function(){this.buildChart()}},{key:"render",value:function(){var e=Object(a.jsx)("div",{className:Ce.a.block,children:Object(a.jsx)("div",{className:Ce.a.chart,children:Object(a.jsx)("canvas",{id:"output-chart",ref:this.chartRef})})});return Object(a.jsx)(Y,{title:"Quality Report",content:e})}}]),n}(c.Component);Re.contextType=L;var qe=n(23),Te=n.n(qe),we=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchData=function(){a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api","/style/"),{headers:E()})),a.netReq.promise.then((function(e){return 200!==e.status?null:e.json()})).then((function(e){if(e){var t=e.map((function(e){return[e.id,e.number]}));a.setState({styles:t})}}),(function(e){console.error(e)}))},a.state={styles:[]},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentWillUnmount",value:function(){this.netReq&&this.netReq.cancel()}},{key:"render",value:function(){return console.log(this.props.filterStyle),Object(a.jsx)("div",{className:Te.a.block,children:Object(a.jsxs)(z,{className:Te.a.card,children:[Object(a.jsx)("input",{className:Te.a.input,type:"date",id:"filterDate",name:"filterDate",onChange:this.props.handleFilterDateChange,value:this.props.filterDate}),Object(a.jsxs)("select",{className:Te.a.input,onChange:this.props.handleFilterStyleChange,value:this.props.filterStyle,children:[Object(a.jsx)("option",{value:"",children:"Choose Style"}),this.state.styles.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e[1]},e[0])}))]})]})})}}]),n}(c.Component),Ie=n(38),Le=n.n(Ie),Pe=function(e){var t=e.title,n=e.metric,c=e.metricPer,r=e.color,i=e.hoverText;return Object(a.jsxs)("div",{title:i,className:Le.a["report-item"],children:[Object(a.jsx)("h3",{style:{color:r,borderBottom:i?"1px dotted black":"none"},children:t}),Object(a.jsx)("h4",{children:n}),Object(a.jsx)("h4",{children:c})]})},Ue=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).chartRef=r.a.createRef(),a.fetchData=function(){var e=a.props.filterDateTime;e||(e=new Date),a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/active-qc-actions/?filterDateTime=").concat(e.toISOString()),{headers:E()})),a.netReq.promise.then((function(e){return 200!==e.status?null:e.json()})).then((function(e){e&&a.setState({ftt:e.ftt,defective:e.defective,rectified:e.rectified,rejected:e.rejected,fttPercentage:e.ftt_percentage,defectivePercentage:e.defective_percentage,rectifiedPercentage:e.rectified_percentage,rejectedPercentage:e.rejected_percentage})}),(function(e){console.error(e)}))},a.state={ftt:0,defective:0,rectified:0,rejected:0,fttPercentage:"0.00%",defectivePercentage:"0.00%",rectifiedPercentage:"0.00%",rejectedPercentage:"0.00%"},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchData(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.fetchData)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.fetchData),this.netReq&&this.netReq.cancel()}},{key:"componentDidUpdate",value:function(e){e.filterDateTime!==this.props.filterDateTime&&this.fetchData()}},{key:"render",value:function(){var e=Object(a.jsxs)("div",{className:Le.a.block,children:[Object(a.jsx)(Pe,{title:"Pass",metric:this.state.ftt,metricPer:this.state.fttPercentage,color:"#008450"}),Object(a.jsx)(Pe,{title:"Defective",metric:this.state.defective,metricPer:this.state.defectivePercentage,color:"#EFB700"}),Object(a.jsx)(Pe,{title:"Rectified",metric:this.state.rectified,metricPer:this.state.rectifiedPercentage,color:"#336dc4",hoverText:"Percentage of defective rectified"})]});return Object(a.jsx)(Y,{title:"Quality Report",content:e})}}]),n}(c.Component);Ue.contextType=L;var Ee=Ue,Fe=n(24),Ae=n.n(Fe),Qe=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fetchData=function(){a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api","/user/"),{headers:E()})),a.netReq.promise.then((function(e){return 200===e.status?e.json():401===e.status?(I.a.remove("token"),(0,a.context.setUserLogInState)(!1),null):null})).then((function(e){e&&e.username&&a.setState({user:e})}),(function(e){console.error(e)}))},a.state={user:null},a.imgRef=r.a.createRef(),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentWillUnmount",value:function(){this.netReq&&this.netReq.cancel()}},{key:"render",value:function(){var e=this;return Object(a.jsx)(P.Consumer,{children:function(t){var n=t.loggedIn,c=e.state.user;return Object(a.jsx)("div",{className:Ae.a.block,children:Object(a.jsx)(O.a,{to:"/settings",children:Object(a.jsxs)("div",{className:Ae.a.content,children:[Object(a.jsx)("div",{className:Ae.a.img,children:n&&c&&c.image?Object(a.jsx)("img",{ref:e.imgRef,src:c.image,draggable:"false",onError:function(){return e.imgRef.current.style.display="none"}}):Object(a.jsx)("span",{className:"fas fa-user-alt"})}),n&&c&&c.username?Object(a.jsx)("span",{className:Ae.a.name,children:c.username}):""]})})})}})}}]),n}(c.Component);Qe.contextType=P;var Me=Qe,Be=n(30),ze=n.n(Be),We=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:ze.a.block,children:[Object(a.jsx)(se,{}),Object(a.jsxs)("div",{className:ze.a["metric-cards-cont"],children:[Object(a.jsx)(X,{metricName:"Production Orders",uri:"/metric/active-orders-progress/",extractData:function(e){return e.length}}),Object(a.jsx)(X,{metricName:"Production Output",uri:"/metric/active-orders-progress/",extractData:function(e){return e.map((function(e){return e.produced})).reduce((function(e,t){return e+t}))}}),Object(a.jsx)(X,{metricName:"Order Quantity",uri:"/metric/active-orders-progress/",extractData:function(e){return e.map((function(e){return e.target})).reduce((function(e,t){return e+t}))}}),Object(a.jsx)(X,{metricName:"Active Lines",uri:"/metric/active-lines/",extractData:function(e){return e.length}}),Object(a.jsx)(X,{metricName:"Operators",uri:"/metric/active-operators/",extractData:function(e){return e}}),Object(a.jsx)(X,{metricName:"Helpers",uri:"/metric/active-helpers/",extractData:function(e){return e}})]}),Object(a.jsxs)("div",{className:ze.a["detail-cards-cont"],children:[Object(a.jsx)(he,{}),Object(a.jsx)(Se,{title:"Factory Efficiency"}),Object(a.jsx)(Ee,{}),Object(a.jsx)(pe,{})]}),Object(a.jsx)(Oe,{}),Object(a.jsx)(ve,{}),Object(a.jsx)(ge,{})]})}}]),n}(c.Component),He=n(39),Ye=n.n(He),Ze=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:Ye.a.block,children:Object(a.jsxs)("div",{className:Ye.a["account-options"],children:[Object(a.jsx)("h1",{children:"Account Settings"}),Object(a.jsx)(ct,{})]})})}}]),n}(c.Component),Je=n(40),Ke=n.n(Je),Xe=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleFilterDateChange=function(e){a.setState({filterDateTime:e.target.value})},a.handleFilterStyleChange=function(e){a.setState({filterStyle:e.target.value})},a.state={filterDateTime:F(new Date),filterStyle:""},a}return Object(l.a)(n,[{key:"render",value:function(){var e=new Date(this.state.filterDateTime);return e.setHours(23,59,59,999),this.state.filterDateTime===F(new Date)&&(e=new Date),Object(a.jsxs)("div",{className:Ke.a.block,children:[Object(a.jsx)(we,{filterDate:this.state.filterDateTime,filterStyle:this.state.filterStyle,handleFilterDateChange:this.handleFilterDateChange,handleFilterStyleChange:this.handleFilterStyleChange}),Object(a.jsxs)("div",{className:Ke.a["detail-cards-cont"],children:[Object(a.jsx)(he,{filterDateTime:e,filterStyle:this.state.filterStyle}),Object(a.jsx)(Se,{title:"Efficiency",filterDateTime:e,filterStyle:this.state.filterStyle}),Object(a.jsx)(Ee,{filterDateTime:e,filterStyle:this.state.filterStyle}),Object(a.jsx)(pe,{filterDateTime:e,filterStyle:this.state.filterStyle})]}),Object(a.jsx)(Oe,{filterDateTime:e,filterStyle:this.state.filterStyle}),Object(a.jsx)(ve,{filterDateTime:e,filterStyle:this.state.filterStyle}),Object(a.jsx)(ge,{filterDateTime:e,filterStyle:this.state.filterStyle})]})}}]),n}(c.Component),Ge=n(10),Ve=n.n(Ge);d.b.add([f.h,f.f]);var $e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleUserNameChange=function(e){a.setState({username:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.setState({message:"",processing:!0}),a.netReq&&a.netReq.cancel(),a.netReq=U(fetch("".concat("https://uazo-serve.herokuapp.com/api","/login/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a.state.username,password:a.state.password})})),a.netReq.promise.then((function(e){200!==e.status?a.setState({message:"Wrong Username or Password"}):e.json().then((function(e){"token"in e&&(I.a.set("token",e.token,{expires:365,sameSite:"Lax",secure:!0}),(0,a.context.setUserLogInState)(!0),a.props.history.push("/"))}))}),(function(e){a.setState({message:"Some error occurred"})})).finally((function(){return a.setState({processing:!1})}))},a.state={username:"",password:"",message:"",processing:!1},a}return Object(l.a)(n,[{key:"componentWillUnmount",value:function(){this.netReq&&this.netReq.cancel()}},{key:"render",value:function(){return Object(a.jsx)("div",{className:Ve.a.block,children:Object(a.jsx)("div",{className:Ve.a.content,children:Object(a.jsxs)(z,{className:Ve.a.card,children:[Object(a.jsx)("div",{className:Ve.a.title,children:Object(a.jsx)("h3",{children:"Login to Uazo"})}),Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:Ve.a["form-group"],children:[Object(a.jsx)("label",{children:"Your Username"}),Object(a.jsxs)("div",{className:Ve.a["input-group"],children:[Object(a.jsx)("span",{children:Object(a.jsx)("svg",{className:"fas fa-envelope"})}),Object(a.jsx)("input",{type:"text",required:!0,value:this.state.username,placeholder:"Username",onChange:this.handleUserNameChange})]})]}),Object(a.jsxs)("div",{className:Ve.a["form-group"],children:[Object(a.jsx)("label",{children:"Your Password"}),Object(a.jsxs)("div",{className:Ve.a["input-group"],children:[Object(a.jsx)("span",{children:Object(a.jsx)("svg",{className:"fas fa-unlock-alt"})}),Object(a.jsx)("input",{type:"password",required:!0,value:this.state.password,placeholder:"Password",onChange:this.handlePasswordChange})]})]}),Object(a.jsx)("span",{className:Ve.a.message,children:this.state.message}),Object(a.jsxs)("button",{className:Ve.a.submit,children:[this.state.processing?Object(a.jsx)("svg",{version:"1.0",width:"18px",height:"18px",viewBox:"0 0 128 128",children:Object(a.jsxs)("g",{children:[Object(a.jsx)("circle",{cx:"16",cy:"64",r:"16",fill:"#000000"}),Object(a.jsx)("circle",{cx:"16",cy:"64",r:"16",fill:"#555555",transform:"rotate(45,64,64)"}),Object(a.jsx)("circle",{cx:"16",cy:"64",r:"16",fill:"#949494",transform:"rotate(90,64,64)"}),Object(a.jsx)("circle",{cx:"16",cy:"64",r:"16",fill:"#cccccc",transform:"rotate(135,64,64)"}),Object(a.jsx)("circle",{cx:"16",cy:"64",r:"16",fill:"#e1e1e1",transform:"rotate(180,64,64)"}),Object(a.jsx)("circle",{cx:"16",cy:"64",r:"16",fill:"#e1e1e1",transform:"rotate(225,64,64)"}),Object(a.jsx)("circle",{cx:"16",cy:"64",r:"16",fill:"#e1e1e1",transform:"rotate(270,64,64)"}),Object(a.jsx)("circle",{cx:"16",cy:"64",r:"16",fill:"#e1e1e1",transform:"rotate(315,64,64)"}),Object(a.jsx)("animateTransform",{attributeName:"transform",type:"rotate",values:"0 64 64;315 64 64;270 64 64;225 64 64;180 64 64;135 64 64;90 64 64;45 64 64",calcMode:"discrete",dur:"720ms",repeatCount:"indefinite"})]})}):"","Login"]})]})]})})})}}]),n}(c.Component);$e.contextType=P;var et=Object(_.h)($e),tt=n(48),nt=n.n(tt),at=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)("button",{className:nt.a.block,onClick:function(){I.a.remove("token"),(0,e.context.setUserLogInState)(!1)},children:"Logout"})}}]),n}(c.Component);at.contextType=P;var ct=at;d.b.add([f.e,f.d,f.c]),d.a.watch();var rt=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).eventSource=new EventSource("".concat("https://uazo-serve.herokuapp.com","/sse/event/")),a.setUserLogInState=function(e){a.setState({loggedIn:e})};var c=!!I.a.get("token");return a.state={loggedIn:c,setUserLogInState:a.setUserLogInState},a}return Object(l.a)(n,[{key:"componentWillUnmount",value:function(){this.eventSource.close()}},{key:"render",value:function(){return Object(a.jsx)(P.Provider,{value:this.state,children:Object(a.jsx)(_.a,{children:Object(a.jsxs)(_.e,{children:[Object(a.jsx)(_.c,{exact:!0,path:"/login",children:Object(a.jsx)(et,{})}),Object(a.jsx)(_.c,{path:"",children:Object(a.jsx)(L.Provider,{value:this.eventSource,children:Object(a.jsx)(Q,{pages:[{content:Object(a.jsx)(We,{}),title:"Overview",url:"/",iconClass:"fas fa-chart-pie"},{content:Object(a.jsx)(Xe,{}),title:"Stitching",url:"/stitching",iconClass:"fas fa-chart-line"},{content:Object(a.jsx)(Ze,{}),title:"Settings",url:"/settings",iconClass:"fas fa-cog"}]})})})]})})})}}]),n}(c.Component),it=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(rt,{})}),document.getElementById("root")),it()}],[[66,1,2]]]);
//# sourceMappingURL=main.8589a066.chunk.js.map