(this["webpackJsonpuazo-dashboard"]=this["webpackJsonpuazo-dashboard"]||[]).push([[0],[,,,,,,,,,function(t,e,n){t.exports={block:"FactoryOutputChart_block__2oZAM",header:"FactoryOutputChart_header__2A0Fb",title:"FactoryOutputChart_title__3hs7o",filter:"FactoryOutputChart_filter__2336O",button:"FactoryOutputChart_button__3RUPl","btn-dark":"FactoryOutputChart_btn-dark__1VQ2M",chart:"FactoryOutputChart_chart__1qf_u"}},,,,function(t,e,n){t.exports={block:"SideNavItem_block__3Q4jU",text:"SideNavItem_text__1DlEG",icon:"SideNavItem_icon__1anzi",link:"SideNavItem_link__1V8sz",active:"SideNavItem_active__314Lk"}},function(t,e,n){t.exports={"table-cont":"Table_table-cont__r9qBv","title-cont":"Table_title-cont__3w7AI",title:"Table_title__3RWda",table:"Table_table__3qmb0",heading:"Table_heading__10IME",row:"Table_row__2OIQY"}},function(t,e,n){t.exports={block:"Filter_block__19iNY",card:"Filter_card__17nJb",input:"Filter_input__UUK1k"}},,function(t,e,n){t.exports={block:"TopNav_block__P68o2",button:"TopNav_button__3egls",logo:"TopNav_logo__39ZOZ",notification:"TopNav_notification__32VQq",profile:"TopNav_profile__ebCCl"}},,function(t,e,n){t.exports={block:"SideNav_block__2oUu-",list:"SideNav_list__3_3r3",button:"SideNav_button__oRjgj",inactive:"SideNav_inactive__3T1nZ"}},function(t,e,n){t.exports={block:"ProductionOrdersProgress_block__aVded",header:"ProductionOrdersProgress_header__GDAzy",title:"ProductionOrdersProgress_title__1zFqK",chart:"ProductionOrdersProgress_chart__1I3w8"}},,function(t,e,n){t.exports={block:"EfficiencyChart_block__39AL6",chart:"EfficiencyChart_chart__12viz",stat:"EfficiencyChart_stat__eGao1",footer:"EfficiencyChart_footer__2S-Cd"}},,,,function(t,e,n){t.exports={block:"TitledCard_block__3Rjdb",header:"TitledCard_header__1Sky9",title:"TitledCard_title__2q4-5"}},function(t,e,n){t.exports={block:"MetricCard_block__2p1BT",h2:"MetricCard_h2__ukYc0",h3:"MetricCard_h3__nMTN_",icon:"MetricCard_icon__15ieD"}},function(t,e,n){t.exports={block:"Overview_block__24MnV","metric-cards-cont":"Overview_metric-cards-cont__kOg0o","detail-cards-cont":"Overview_detail-cards-cont__2xCCC"}},,,,,function(t,e,n){t.exports={block:"NavLayout_block__K_i9S",content:"NavLayout_content__2_sLe"}},function(t,e,n){t.exports={block:"MetricStrip_block__3Dvhf",item:"MetricStrip_item__1s1Gm"}},,function(t,e,n){t.exports={block:"QualityReportChart_block__-xZFA",chart:"QualityReportChart_chart__2SqDp"}},function(t,e,n){t.exports={block:"QualityReport_block__15rFH","report-item":"QualityReport_report-item__XPS23"}},,,,,function(t,e,n){t.exports={block:"Card_block__1JQrE"}},function(t,e,n){t.exports={"def-name":"FrequentDefectsTable_def-name__2_979"}},,function(t,e,n){t.exports={block:"Detail_block__1iRMm"}},,,,,,,function(t,e,n){},,,,,,,,,,,function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(0),c=n(1),r=n.n(c),i=n(40),s=n.n(i),o=(n(52),n(2)),l=n(3),u=n(5),h=n(4),d=n(12),b=n(10),f=n(19),j=n.n(f);d.b.add([b.f]);var p=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=j.a.block;return this.props.sideNavActive||(t+=" "+j.a.inactive),Object(a.jsxs)("nav",{id:"sidebarMenu",className:t,children:[Object(a.jsx)("button",{className:j.a.button,onClick:this.props.handleSideNavClose,children:Object(a.jsx)("span",{className:"fas fa-times"})}),Object(a.jsx)("ul",{className:j.a.list,children:this.props.children})]})}}]),n}(c.Component),v=n(17),O=n.n(v),m=n.p+"static/media/logo.c04a650d.svg";d.b.add([b.a,b.g,b.b]);var x=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("nav",{className:O.a.block,children:[Object(a.jsx)("button",{className:O.a.button,onClick:this.props.handleSideNavOpen,"aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{className:"fas fa-bars"})}),Object(a.jsx)("div",{className:O.a.logo,style:{backgroundImage:'url("'.concat(m,'")')}}),Object(a.jsx)("div",{className:O.a.notification,children:Object(a.jsx)("span",{className:"fas fa-bell"})}),Object(a.jsx)("div",{className:O.a.profile,children:Object(a.jsx)("span",{className:"fas fa-user-alt"})})]})}}]),n}(c.Component),_=n(6),y=n(13),k=n.n(y),N=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props.container;return Object(a.jsx)("li",{className:k.a.block,children:Object(a.jsx)(t,{to:this.props.url,children:Object(a.jsxs)("div",{href:this.props.url,className:k.a.link+(this.props.url===this.props.location.pathname?" "+k.a.active:""),children:[Object(a.jsx)("span",{className:k.a.text,children:Object(a.jsx)("span",{className:k.a.icon+" "+this.props.faIcon})}),Object(a.jsx)("span",{className:k.a.text,children:this.props.title})]})})})}}]),n}(c.Component),C=Object(_.g)(N),g=n(11),S=n(33),R=n.n(S),D=n(25),T=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={sideNavActive:!1},a.handleSideNavClose=a.handleSideNavClose.bind(Object(g.a)(a)),a.handleSideNavOpen=a.handleSideNavOpen.bind(Object(g.a)(a)),a}return Object(l.a)(n,[{key:"handleSideNavClose",value:function(){this.setState({sideNavActive:!1})}},{key:"handleSideNavOpen",value:function(){this.setState({sideNavActive:!0})}},{key:"render",value:function(){return Object(a.jsx)(D.a,{children:Object(a.jsxs)("div",{className:R.a.block,children:[Object(a.jsx)(p,{handleSideNavClose:this.handleSideNavClose,sideNavActive:this.state.sideNavActive,children:this.props.pages.map((function(t){return Object(a.jsx)(C,{container:D.b,title:t.title,url:t.url,faIcon:t.iconClass},t.url)}))}),Object(a.jsxs)("div",{className:R.a.content,children:[Object(a.jsx)(x,{handleSideNavOpen:this.handleSideNavOpen}),Object(a.jsxs)(_.d,{children:[this.props.pages.map((function(t){return Object(a.jsx)(_.b,{exact:!0,path:t.url,children:t.content},t.url)})),Object(a.jsx)(_.b,{path:"*",children:Object(a.jsx)(_.a,{to:"/"})})]})]})]})})}}]),n}(r.a.Component),w=n(42),F=n.n(w),E=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=F.a.block;return void 0!==this.props.className&&(t+=" "+this.props.className),Object(a.jsx)("div",{className:t,children:this.props.children})}}]),n}(c.Component),P=n(26),I=n.n(P),L=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)(E,{className:this.props.className,children:Object(a.jsxs)("div",{className:I.a.block,children:[Object(a.jsx)("div",{className:I.a.header,children:Object(a.jsx)("h2",{className:I.a.title,children:this.props.title})}),this.props.content]})})}}]),n}(c.Component),B=n(27),Q=n.n(B),A=r.a.createContext(),M=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).refresh=function(){a.shouldRefresh&&(a.shouldRefresh=!1,fetch("".concat("https://uazo-serve.herokuapp.com/api").concat(a.props.uri)).then((function(t){return 200!==t.status?null:t.json()})).then((function(t){t&&a.setState({data:a.props.extractData(t.data)})}),(function(t){console.error(t)})).finally((function(){a.shouldRefresh=!0})))},a.state={data:"-"},a.shouldRefresh=!0,a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.refresh(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.refresh)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.refresh)}},{key:"render",value:function(){return Object(a.jsx)(E,{children:Object(a.jsx)("div",{className:Q.a.block,children:Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{className:Q.a.h2,children:this.props.metricName}),Object(a.jsx)("h3",{className:Q.a.h3,children:this.state.data.toLocaleString()})]})})})}}]),n}(c.Component);M.contextType=A;var U=M,z=n(34),q=n.n(z),W=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)(E,{children:Object(a.jsx)("div",{className:q.a.block,children:this.props.items.map((function(t,e){return Object(a.jsxs)("div",{className:q.a.item,children:[Object(a.jsx)("h3",{children:t.title}),Object(a.jsx)("h4",{children:t.body})]},e+t.title)}))})})}}]),n}(c.Component),H=n(14),V=n.n(H),Z=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this,e="";return Object(a.jsxs)(E,{children:[Object(a.jsx)("div",{className:V.a["title-cont"],children:Object(a.jsx)("h2",{className:V.a.title,children:this.props.tableName})}),Object(a.jsx)("div",{className:V.a["table-cont"],children:Object(a.jsxs)("table",{className:V.a.table,children:[void 0!==this.props.headings&&Object(a.jsx)("thead",{className:V.a.heading,children:Object(a.jsx)("tr",{children:this.props.headings.map((function(t,e){return Object(a.jsx)("th",{children:t},e)}))})}),Object(a.jsx)("tbody",{children:this.props.tableData.map((function(n,c){return Object(a.jsx)("tr",{className:V.a.row,children:n.map((function(n,c){return 0===c&&!0===t.props.hideConcurrentSameSrNo&&(n===e&&(n=""),e=n),Object(a.jsx)("td",{children:n},c)}))},c)}))})]})})]})}}]),n}(c.Component),G=n(16),J=n.n(G),K=n(9),Y=n.n(K),X=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).chartRef=r.a.createRef(),a.activeButton="1w",a.refreshChart=function(){a.getChartDateRange(),a.fetchData()},a.getChartDateRange=function(){var t,e;"1d"===a.activeButton?t=new Date:"1w"===a.activeButton?t=new Date(Date.now()-5184e5):"1m"===a.activeButton&&(t=new Date(Date.now()-2592e6)),t.setHours(0,0,0,0),(e=new Date).setHours(23,59,59,999),a.startTime=t,a.endTime=e},a.fetchData=function(){var t="".concat(a.activeButton);fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/output-timeseries/?start=").concat(a.startTime.toISOString(),"&end=").concat(a.endTime.toISOString())).then((function(t){return 200!==t.status?null:t.json()})).then((function(e){e&&a.activeButton===t&&a.setState({labels:e.labels,data:e.data})}),(function(t){console.error(t)}))},a.buildChart=function(){var t=a.state,e=t.labels,n=t.data,c=a.chartRef.current.getContext("2d");"undefined"!==typeof a.chart&&a.chart.destroy(),a.chart=new J.a(c,{type:"line",data:{labels:e.length===n.length?e:new Array(n.length).fill("Date"),datasets:[{label:"Output",data:n,borderColor:"#98B9AB",fill:!0}]},options:{elements:{line:{tension:0}},responsive:!0,maintainAspectRatio:!1,tooltips:{mode:"nearest",intersect:!1,axis:"x"},scales:{xAxes:[{type:"time",display:!0,scaleLabel:{display:!0,labelString:"Date"},time:{tooltipFormat:"ll HH:mm"},ticks:{major:{fontStyle:"bold",fontColor:"#FF0000"}}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Output"}}]}}})},a.state={labels:[],data:[]},a.startTime="",a.endTime="",a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.buildChart(),this.refreshChart(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.refreshChart)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.refreshChart)}},{key:"componentDidUpdate",value:function(){this.buildChart()}},{key:"render",value:function(){var t=this;return Object(a.jsx)(E,{children:Object(a.jsxs)("div",{className:Y.a.block,children:[Object(a.jsxs)("div",{className:Y.a.header,children:[Object(a.jsx)("h2",{className:Y.a.title,children:"Factory Output"}),Object(a.jsxs)("div",{className:Y.a.filter,children:[Object(a.jsx)("button",{className:Y.a.button+("1d"===this.activeButton?" "+Y.a["btn-dark"]:""),onClick:function(){t.activeButton="1d",t.refreshChart()},children:"1d"}),Object(a.jsx)("button",{className:Y.a.button+("1w"===this.activeButton?" "+Y.a["btn-dark"]:""),onClick:function(){t.activeButton="1w",t.refreshChart()},children:"1w"}),Object(a.jsx)("button",{className:Y.a.button+("1m"===this.activeButton?" "+Y.a["btn-dark"]:""),onClick:function(){t.activeButton="1m",t.refreshChart()},children:"1m"})]})]}),Object(a.jsx)("div",{className:Y.a.chart,children:Object(a.jsx)("canvas",{id:"output-chart",ref:this.chartRef})})]})})}}]),n}(c.Component);X.contextType=A;var $=X,tt=n(20),et=n.n(tt),nt=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).chartRef=r.a.createRef(),a.fetchData=function(){a.shouldRefresh&&(a.shouldRefresh=!1,fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/active-orders/")).then((function(t){return 200!==t.status?null:t.json()})).then((function(t){if(t){var e=[],n=[],c=[];t.data.forEach((function(t){e.push(t.buyer),n.push(t.target),c.push(t.produced)})),a.setState({labels:e,target:n,produced:c})}}),(function(t){console.error(t)})).finally((function(){a.shouldRefresh=!0})))},a.state={labels:[],target:[],produced:[]},a.shouldRefresh=!0,a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.buildChart(),this.fetchData(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.fetchData)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.fetchData)}},{key:"componentDidUpdate",value:function(){this.buildChart()}},{key:"buildChart",value:function(){var t=this.state,e=t.labels,n=t.target,a=t.produced,c=this.chartRef.current.getContext("2d");"undefined"!==typeof this.chart&&this.chart.destroy(),this.chart=new J.a(c,{type:"horizontalBar",data:{labels:e.length===n.length?e:new Array(n.length).fill("PO"),datasets:[{label:"Target",data:n,backgroundColor:"#8d7aeb"},{label:"Produced",backgroundColor:"#42f581",data:a}]},options:{responsive:!0,maintainAspectRatio:!1}})}},{key:"render",value:function(){return Object(a.jsx)(E,{children:Object(a.jsxs)("div",{className:et.a.block,children:[Object(a.jsx)("div",{className:et.a.header,children:Object(a.jsx)("h2",{className:et.a.title,children:"Production Orders Progress"})}),Object(a.jsx)("div",{className:et.a.chart,children:Object(a.jsx)("canvas",{id:"po-progress-chart",ref:this.chartRef})})]})})}}]),n}(c.Component);nt.contextType=A;var at=nt,ct=n(43),rt=n.n(ct),it=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var c;return Object(o.a)(this,n),(c=e.call(this,t)).fetchData=function(){c.shouldRefresh&&(c.shouldRefresh=!1,fetch("".concat("https://uazo-serve.herokuapp.com/api","/defect/most-frequent/")).then((function(t){return 200!==t.status?null:t.json()})).then((function(t){if(t){var e=[];t.data.forEach((function(t){var n=Object(a.jsxs)("div",{className:rt.a["def-name"],children:[Object(a.jsx)("h3",{children:t.operation}),Object(a.jsx)("p",{children:t.defect})]});e.push([n,t.count])})),c.setState({data:e})}}),(function(t){console.error(t)})).finally((function(){c.shouldRefresh=!0})))},c.state={headings:["Defect","Frequency"],data:[]},c.shouldRefresh=!0,c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchData(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.fetchData)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.fetchData)}},{key:"render",value:function(){return Object(a.jsx)(Z,{hideConcurrentSameSrNo:!1,tableName:"Frequent Defects",headings:this.state.headings,tableData:this.state.data})}}]),n}(c.Component);it.contextType=A;var st=it,ot=n(21),lt=n.n(ot),ut=n(44),ht=n(35),dt="https://uazo-serve.herokuapp.com/api",bt=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).refresh=function(){a.shouldRefresh&&(a.shouldRefresh=!1,fetch("".concat(dt,"/production-session/active/")).then((function(t){return 200!==t.status?[]:t.json()})).then(function(){var t=Object(ht.a)(lt.a.mark((function t(e){return lt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.forEach(function(){var t=Object(ht.a)(lt.a.mark((function t(e){var n,c;return lt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(dt,"/production-session/").concat(e.id,"/stats/"));case 3:return c=t.sent,t.next=6,c.json();case 6:n=t.sent,t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 13:a.setState(Object(ut.a)({},e.id,[a.fmt(e.line_number),a.fmt(n.shift),a.fmt(e.target),a.fmt(n.output),a.fmt(n.rtt),a.fmt(n.rtt-n.output),a.fmt(n.projected_output),a.fmt(a.fmtFloat(n.dhu)),a.fmt(a.fmtFloat(n.line_efficiency)),a.fmt(n.defective),a.fmt(n.rectified),a.fmt(n.rejected),a.fmt(e.operators),a.fmt(e.helpers),a.fmt(n.style_number),a.fmt(n.buyer)]));case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){console.error(t)})).finally((function(){a.shouldRefresh=!0})))},a.state={headings:["line","Shift","Target","Production","RTT","Variance","Projected","DHU","Efficiency","Defective","Rectified","Rejected","Operators","Helpers","Style","Buyer"]},a.shouldRefresh=!0,a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.refresh(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.refresh)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.refresh)}},{key:"fmt",value:function(t){return 0===t&&(t="0"),(t=t||"-").toLocaleString()}},{key:"fmtFloat",value:function(t){if(void 0!==t)return parseFloat(t).toFixed(2)}},{key:"render",value:function(){var t=[];for(var e in this.state)"headings"!==e&&t.push(this.state[e]);return t=t.sort((function(t,e){return t[0]-e[0]})),Object(a.jsx)(Z,{hideConcurrentSameSrNo:!0,tableName:"Key Statistics",headings:this.state.headings,tableData:t})}}]),n}(c.Component);bt.contextType=A;var ft=bt,jt=n(46),pt=n(22),vt=n.n(pt),Ot=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={target:0,actual:0,hitRate:0},a.refresh=a.refresh.bind(Object(g.a)(a)),a.shouldRefresh=!0,a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.refresh(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",(function(){return t.refresh()}))}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.refresh)}},{key:"refresh",value:function(){var t=this;this.shouldRefresh&&(this.shouldRefresh=!1,fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/factory-efficiency/")).then((function(t){return 200!==t.status?null:t.json()})).then((function(e){if(e){var n=0;if(0===e.target||0===e.actual)n=0;else{var a=e.actual/e.target*100;n=isNaN(a)?0:a}t.setState({actual:e.actual,target:e.target,hitRate:n})}}),(function(t){console.error(t)})).finally((function(){t.shouldRefresh=!0})))}},{key:"render",value:function(){var t=this,e=Object(a.jsxs)("div",{className:vt.a.block,children:[Object(a.jsxs)("div",{className:vt.a.chart,children:[Object(a.jsx)(jt.a,{gapDegree:40,gapPosition:"top",strokeWidth:6,trailWidth:6,strokeLinecap:"round",percent:t.state.hitRate>100?100:t.state.hitRate}),Object(a.jsxs)("div",{className:vt.a.stat,children:[Object(a.jsxs)("h4",{children:[this.state.actual.toFixed(2),"%"]}),Object(a.jsxs)("p",{children:["Target: ",this.state.target.toFixed(2),"%"]})]})]}),Object(a.jsx)("div",{className:vt.a.footer,children:Object(a.jsxs)("h4",{children:["Efficiency Hit Rate: ",Object(a.jsxs)("strong",{children:[this.state.hitRate.toFixed(2),"%"]})]})})]});return Object(a.jsx)(L,{title:"Factory Efficiency",content:e})}}]),n}(c.Component);Ot.contextType=A;var mt=Ot,xt=n(36),_t=n.n(xt),yt=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).chartRef=r.a.createRef(),a.refresh=function(){a.shouldRefresh&&(a.shouldRefresh=!1,fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/active-qc-actions/")).then((function(t){return 200!==t.status?null:t.json()})).then((function(t){t&&a.setState({ftt:t.ftt,defective:t.defective,rectified:t.rectified,rejected:t.rejected})}),(function(t){console.error(t)})).finally((function(){a.shouldRefresh=!0})))},a.buildChart=function(){var t=a.chartRef.current.getContext("2d");"undefined"!==typeof a.chart&&a.chart.destroy(),a.chart=new J.a(t,{type:"doughnut",data:{datasets:[{data:[a.state.ftt,a.state.defective,a.state.rectified,a.state.rejected],backgroundColor:["#008450","#EFB700","#336dc4","#B81D13"]}],labels:["FTT","Defective","Rectified","Rejected"]},options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:.8,legend:{position:"bottom"},animation:{animateScale:!0,animateRotate:!0},title:{display:!1}}})},a.state={ftt:0,defective:0,rectified:0,rejected:0},a.shouldRefresh=!0,a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.buildChart(),this.refresh(),this.eventSource=this.context,this.eventSource.addEventListener("newQcInput",this.refresh)}},{key:"componentWillUnmount",value:function(){this.eventSource.removeEventListener("newQcInput",this.refresh)}},{key:"componentDidUpdate",value:function(){this.buildChart()}},{key:"render",value:function(){var t=Object(a.jsx)("div",{className:_t.a.block,children:Object(a.jsx)("div",{className:_t.a.chart,children:Object(a.jsx)("canvas",{id:"output-chart",ref:this.chartRef})})});return Object(a.jsx)(L,{title:"Quality Report",content:t})}}]),n}(c.Component);yt.contextType=A;var kt=yt,Nt=n(15),Ct=n.n(Nt),gt=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:Ct.a.block,children:Object(a.jsxs)(E,{className:Ct.a.card,children:[Object(a.jsx)("select",{className:Ct.a.input,children:Object(a.jsx)("option",{value:"#",children:"Choose Line"})}),Object(a.jsx)("select",{className:Ct.a.input,children:Object(a.jsx)("option",{value:"#",children:"Choose Style"})}),Object(a.jsx)("input",{className:Ct.a.input,type:"date",id:"startDate",name:"startDate"}),Object(a.jsx)("span",{children:"To"}),Object(a.jsx)("input",{className:Ct.a.input,type:"date",id:"endDate",name:"endDate"})]})})}}]),n}(c.Component),St=n(37),Rt=n.n(St),Dt=function(t){var e=t.title,n=t.metric,c=t.metricPer,r=t.color;return Object(a.jsxs)("div",{className:Rt.a["report-item"],children:[Object(a.jsx)("h3",{style:{color:r},children:e}),Object(a.jsx)("h4",{children:n}),Object(a.jsx)("h4",{children:c})]})},Tt=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=Object(a.jsxs)("div",{className:Rt.a.block,children:[Object(a.jsx)(Dt,{title:"FTT",metric:"2100",metricPer:"91.3%",color:"#008450"}),Object(a.jsx)(Dt,{title:"Rejected",metric:"10",metricPer:"0.43%",color:"#B81D13"}),Object(a.jsx)(Dt,{title:"Defective",metric:"190",metricPer:"8.26%",color:"#EFB700"}),Object(a.jsx)(Dt,{title:"Rectified",metric:"95",metricPer:"4.13%",color:"#336dc4"})]});return Object(a.jsx)("div",{children:Object(a.jsx)(L,{title:"Quality Report",content:t})})}}]),n}(c.Component),wt=n(28),Ft=n.n(wt),Et=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:Ft.a.block,children:[Object(a.jsx)($,{}),Object(a.jsxs)("div",{className:Ft.a["metric-cards-cont"],children:[Object(a.jsx)(U,{metricName:"Production Orders",uri:"/metric/active-orders/",extractData:function(t){return t.length}}),Object(a.jsx)(U,{metricName:"Production Volume",uri:"/metric/active-orders/",extractData:function(t){return t.map((function(t){return t.produced})).reduce((function(t,e){return t+e}))}}),Object(a.jsx)(U,{metricName:"Order Volume",uri:"/metric/active-orders/",extractData:function(t){return t.map((function(t){return t.target})).reduce((function(t,e){return t+e}))}}),Object(a.jsx)(U,{metricName:"Active Lines",uri:"/metric/active-lines/",extractData:function(t){return t}}),Object(a.jsx)(U,{metricName:"Operators",uri:"/metric/active-operators/",extractData:function(t){return t}}),Object(a.jsx)(U,{metricName:"Helpers",uri:"/metric/active-helpers/",extractData:function(t){return t}})]}),Object(a.jsxs)("div",{className:Ft.a["detail-cards-cont"],children:[Object(a.jsx)(at,{}),Object(a.jsx)(mt,{}),Object(a.jsx)(kt,{}),Object(a.jsx)(st,{})]}),Object(a.jsx)(ft,{})]})}}]),n}(c.Component),Pt=(n(63),function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{})}}]),n}(c.Component)),It=n(45),Lt=n.n(It),Bt=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:Lt.a.block,children:[Object(a.jsx)(gt,{}),Object(a.jsx)(W,{items:[{title:"Running Style",body:"#3545"},{title:"Production Order",body:"#112"},{title:"Buyer Name",body:"DIESEL"},{title:"Style Color",body:"Floral Blue"}]}),Object(a.jsx)(W,{items:[{title:"Operators",body:"31"},{title:"Helpers",body:"12"}]}),Object(a.jsx)(W,{items:[{title:"Planned Target",body:"4512"},{title:"RTT",body:"2318"},{title:"Actual Production",body:"2300"},{title:"Variance",body:"18"},{title:"WIP",body:"2212"},{title:"Predicted Trend",body:"2190"}]}),Object(a.jsx)(Tt,{})]})}}]),n}(c.Component);d.b.add([b.e,b.d,b.c]),d.a.watch();var Qt=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).eventSource=new EventSource("".concat("https://uazo-serve.herokuapp.com","/sse/event/")),a}return Object(l.a)(n,[{key:"componentWillUnmount",value:function(){this.eventSource.close()}},{key:"render",value:function(){return Object(a.jsx)(A.Provider,{value:this.eventSource,children:Object(a.jsx)(T,{pages:[{content:Object(a.jsx)(Et,{}),title:"Overview",url:"/",iconClass:"fas fa-chart-pie"},{content:Object(a.jsx)(Bt,{}),title:"Detail",url:"/detail",iconClass:"fas fa-chart-line"},{content:Object(a.jsx)(Pt,{}),title:"Settings",url:"/settings",iconClass:"fas fa-cog"}]})})}}]),n}(c.Component),At=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),a(t),c(t),r(t),i(t)}))};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(Qt,{})}),document.getElementById("root")),At()}],[[64,1,2]]]);
//# sourceMappingURL=main.e81a1b60.chunk.js.map