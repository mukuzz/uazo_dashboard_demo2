(this["webpackJsonpuazo-dashboard"]=this["webpackJsonpuazo-dashboard"]||[]).push([[0],[,,,,,,,function(t,e,a){t.exports={block:"FactoryOutputChart_block__2oZAM",header:"FactoryOutputChart_header__2A0Fb",title:"FactoryOutputChart_title__3hs7o",filter:"FactoryOutputChart_filter__2336O",button:"FactoryOutputChart_button__3RUPl","btn-dark":"FactoryOutputChart_btn-dark__1VQ2M",chart:"FactoryOutputChart_chart__1qf_u"}},,function(t,e,a){t.exports={block:"SideNavItem_block__3Q4jU",text:"SideNavItem_text__1DlEG",icon:"SideNavItem_icon__1anzi",link:"SideNavItem_link__1V8sz",active:"SideNavItem_active__314Lk"}},function(t,e,a){t.exports={"table-cont":"Table_table-cont__r9qBv","title-cont":"Table_title-cont__3w7AI",title:"Table_title__3RWda",table:"Table_table__3qmb0",heading:"Table_heading__10IME",row:"Table_row__2OIQY"}},,,function(t,e,a){t.exports={block:"SideNav_block__2oUu-",list:"SideNav_list__3_3r3",button:"SideNav_button__oRjgj",inactive:"SideNav_inactive__3T1nZ"}},function(t,e,a){t.exports={block:"ProductionOrdersProgress_block__aVded",header:"ProductionOrdersProgress_header__GDAzy",title:"ProductionOrdersProgress_title__1zFqK",chart:"ProductionOrdersProgress_chart__1I3w8"}},,function(t,e,a){t.exports={block:"TopNav_block__P68o2",button:"TopNav_button__3egls","navbar-toggle-icon":"TopNav_navbar-toggle-icon__2Ytz8"}},function(t,e,a){t.exports={block:"MetricCard_block__1c4T_",h2:"MetricCard_h2__1ba7i",h3:"MetricCard_h3__3orJR",icon:"MetricCard_icon__3bj8A"}},function(t,e,a){t.exports={block:"Overview_block__24MnV","metric-cards-cont":"Overview_metric-cards-cont__kOg0o","detail-cards-cont":"Overview_detail-cards-cont__2xCCC"}},,,,function(t,e,a){t.exports={block:"NavLayout_block__2rxcN",content:"NavLayout_content__aU6TR"}},,function(t,e,a){t.exports={block:"Card_block__1JQrE"}},function(t,e,a){t.exports={"def-name":"FrequentDefectsTable_def-name__2_979"}},,,,,,,function(t,e,a){},,,,,,,function(t,e,a){"use strict";a.r(e);var n=a(0),r=a(1),c=a.n(r),s=a(23),i=a.n(s),o=(a(32),a(2)),l=a(3),u=a(5),h=a(4),d=a(12),b=a(11),f=a(6),j=a(13),p=a.n(j);d.b.add([b.d]);var v=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var t=p.a.block;return this.props.sideNavActive||(t+=" "+p.a.inactive),Object(n.jsxs)("nav",{id:"sidebarMenu",className:t,children:[Object(n.jsx)("button",{className:p.a.button,onClick:this.props.handleSideNavClose,children:Object(n.jsx)("span",{className:"fas fa-times"})}),Object(n.jsx)("ul",{className:p.a.list,children:this.props.children})]})}}]),a}(r.Component),O=a(16),m=a.n(O),_=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("nav",{className:m.a.block,children:Object(n.jsx)("button",{className:m.a.button,onClick:this.props.handleSideNavOpen,"aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:m.a["navbar-toggle-icon"]})})})}}]),a}(r.Component),x=a(9),k=a.n(x),y=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("li",{className:k.a.block,children:Object(n.jsxs)("a",{href:this.props.url,className:k.a.link+(this.props.active?" "+k.a.active:""),children:[Object(n.jsx)("span",{className:k.a.text,children:Object(n.jsx)("span",{className:k.a.icon+" "+this.props.faIcon})}),Object(n.jsx)("span",{className:k.a.text,children:this.props.title})]})})}}]),a}(r.Component),N=a(24),g=a.n(N),C=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:g.a.block,children:this.props.children})}}]),a}(r.Component),S=a(17),D=a.n(S),R=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={data:"-"},n.refresh=n.refresh.bind(Object(f.a)(n)),n.shouldRefresh=!0,n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.refresh(),setInterval(this.refresh,"1000")}},{key:"refresh",value:function(){var t=this;this.shouldRefresh&&(this.shouldRefresh=!1,fetch("".concat("https://uazo-serve.herokuapp.com/api").concat(this.props.uri)).then((function(t){return 200!==t.status?null:t.json()})).then((function(e){e&&t.setState({data:t.props.extractData(e.data)})}),(function(t){console.error(t)})).finally((function(){t.shouldRefresh=!0})))}},{key:"render",value:function(){return Object(n.jsx)(C,{children:Object(n.jsx)("div",{className:D.a.block,children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:D.a.h2,children:this.props.metricName}),Object(n.jsx)("h3",{className:D.a.h3,children:this.state.data.toLocaleString()})]})})})}}]),a}(r.Component),w=a(10),F=a.n(w),T=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var t=this,e="";return Object(n.jsxs)(C,{children:[Object(n.jsx)("div",{className:F.a["title-cont"],children:Object(n.jsx)("h2",{className:F.a.title,children:this.props.tableName})}),Object(n.jsx)("div",{className:F.a["table-cont"],children:Object(n.jsxs)("table",{className:F.a.table,children:[void 0!==this.props.headings&&Object(n.jsx)("thead",{className:F.a.heading,children:Object(n.jsx)("tr",{children:this.props.headings.map((function(t,e){return Object(n.jsx)("th",{children:t},e)}))})}),Object(n.jsx)("tbody",{children:this.props.tableData.map((function(a,r){return Object(n.jsx)("tr",{className:F.a.row,children:a.map((function(a,r){return 0===r&&!0===t.props.hideConcurrentSameSrNo&&(a===e&&(a=""),e=a),Object(n.jsx)("td",{children:a},r)}))},r)}))})]})})]})}}]),a}(r.Component),P=a(8),A=a.n(P),I=a(7),M=a.n(I);A.a.defaults.global.legend.display=!1,A.a.defaults.global.elements.line.tension=0;var z=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).chartRef=c.a.createRef(),n.state={labels:[],data:[]},n.fetchChartData=n.fetchChartData.bind(Object(f.a)(n)),n.get1dChart=n.get1dChart.bind(Object(f.a)(n)),n.get1wChart=n.get1wChart.bind(Object(f.a)(n)),n.get1mChart=n.get1mChart.bind(Object(f.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.get1wChart(),this.buildChart()}},{key:"componentDidUpdate",value:function(){this.buildChart()}},{key:"get1dChart",value:function(){this.activeButton="1d";var t=new Date;t.setHours(0,0,0,0);var e=new Date;e.setHours(23,59,59,999),this.fetchChartData(t,e)}},{key:"get1wChart",value:function(){this.activeButton="1w";var t=new Date(Date.now()-5184e5);t.setHours(0,0,0,0);var e=new Date;e.setHours(23,59,59,999),this.fetchChartData(t,e)}},{key:"get1mChart",value:function(){this.activeButton="1m";var t=new Date(Date.now()-2592e6);t.setHours(0,0,0,0);var e=new Date;e.setHours(23,59,59,999),this.fetchChartData(t,e)}},{key:"fetchChartData",value:function(t,e){var a=this,n="".concat(t.getTime()).concat(e.getTime());t=t.toISOString(),e=e.toISOString(),this.activeChartRequestKey!==n&&(this.activeChartRequestKey=n,fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/output-timeseries/?start=").concat(t,"&end=").concat(e)).then((function(t){return 200!==t.status?null:t.json()})).then((function(t){t&&a.activeChartRequestKey===n&&a.setState({labels:t.labels,data:t.data})}),(function(t){console.error(t)})))}},{key:"buildChart",value:function(){var t=this.state,e=t.labels,a=t.data,n=this.chartRef.current.getContext("2d");"undefined"!==typeof this.chart&&this.chart.destroy(),this.chart=new A.a(n,{type:"line",data:{labels:e.length===a.length?e:new Array(a.length).fill("Date"),datasets:[{label:"Output",data:a,borderColor:"#98B9AB",fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,tooltips:{mode:"nearest",intersect:!1,axis:"x"},scales:{xAxes:[{type:"time",display:!0,scaleLabel:{display:!0,labelString:"Date"},time:{tooltipFormat:"ll HH:mm"},ticks:{major:{fontStyle:"bold",fontColor:"#FF0000"}}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Output"}}]}}})}},{key:"render",value:function(){return Object(n.jsx)(C,{children:Object(n.jsxs)("div",{className:M.a.block,children:[Object(n.jsxs)("div",{className:M.a.header,children:[Object(n.jsx)("h2",{className:M.a.title,children:"Factory Output"}),Object(n.jsxs)("div",{className:M.a.filter,children:[Object(n.jsx)("button",{className:M.a.button+("1d"===this.activeButton?" "+M.a["btn-dark"]:""),onClick:this.get1dChart,children:"1d"}),Object(n.jsx)("button",{className:M.a.button+("1w"===this.activeButton?" "+M.a["btn-dark"]:""),onClick:this.get1wChart,children:"1w"}),Object(n.jsx)("button",{className:M.a.button+("1m"===this.activeButton?" "+M.a["btn-dark"]:""),onClick:this.get1mChart,children:"1m"})]})]}),Object(n.jsx)("div",{className:M.a.chart,children:Object(n.jsx)("canvas",{id:"output-chart",ref:this.chartRef})})]})})}}]),a}(r.Component),B=a(14),q=a.n(B);A.a.defaults.global.legend.display=!1,A.a.defaults.global.elements.line.tension=0;var H=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).chartRef=c.a.createRef(),n.state={labels:[],target:[],produced:[]},n.fetchChartData=n.fetchChartData.bind(Object(f.a)(n)),n.shouldRefresh=!0,n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchChartData(),this.buildChart()}},{key:"componentDidUpdate",value:function(){this.buildChart()}},{key:"fetchChartData",value:function(){var t=this;this.shouldRefresh&&(this.shouldRefresh=!1,fetch("".concat("https://uazo-serve.herokuapp.com/api","/metric/active-orders/")).then((function(t){return 200!==t.status?null:t.json()})).then((function(e){if(e){var a=[],n=[],r=[];e.data.forEach((function(t){a.push(t.buyer),n.push(t.target),r.push(t.produced)})),t.setState({labels:a,target:n,produced:r})}}),(function(t){console.error(t)})).finally((function(){t.shouldRefresh=!0})))}},{key:"buildChart",value:function(){var t=this.state,e=t.labels,a=t.target,n=t.produced,r=this.chartRef.current.getContext("2d");"undefined"!==typeof this.chart&&this.chart.destroy(),this.chart=new A.a(r,{type:"horizontalBar",data:{labels:e.length===a.length?e:new Array(a.length).fill("PO"),datasets:[{label:"Target",data:a,backgroundColor:"#8d7aeb"},{label:"Produced",backgroundColor:"#42f581",data:n}]},options:{responsive:!0,maintainAspectRatio:!0}})}},{key:"render",value:function(){return Object(n.jsx)(C,{children:Object(n.jsxs)("div",{className:q.a.block,children:[Object(n.jsx)("div",{className:q.a.header,children:Object(n.jsx)("h2",{className:q.a.title,children:"Production Orders Progress"})}),Object(n.jsx)("div",{className:q.a.chart,children:Object(n.jsx)("canvas",{id:"po-progress-chart",ref:this.chartRef})})]})})}}]),a}(r.Component),L=a(25),E=a.n(L),U=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={headings:["Defect","Frequency"],data:[]},n.fetchData=n.fetchData.bind(Object(f.a)(n)),n.shouldRefresh=!0,n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var t=this;this.shouldRefresh&&(this.shouldRefresh=!1,fetch("".concat("https://uazo-serve.herokuapp.com/api","/defect/most-frequent/")).then((function(t){return 200!==t.status?null:t.json()})).then((function(e){if(e){var a=[];e.data.forEach((function(t){var e=Object(n.jsxs)("div",{className:E.a["def-name"],children:[Object(n.jsx)("h3",{children:t.operation}),Object(n.jsx)("p",{children:t.defect})]});a.push([e,t.count])})),t.setState({data:a})}}),(function(t){console.error(t)})).finally((function(){t.shouldRefresh=!0})))}},{key:"render",value:function(){return Object(n.jsx)(T,{hideConcurrentSameSrNo:!1,tableName:"Frequent Defects",headings:this.state.headings,tableData:this.state.data})}}]),a}(r.Component),V=a(15),K=a.n(V),J=a(26),Q=a(21),G="https://uazo-serve.herokuapp.com/api",Y=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={headings:["line","Shift","Target","Production","RTT","Variance","Projected","DHU","Efficiency","Defective","Rectified","Rejected","Operators","Helpers","Style","Buyer"]},n.refreshStats=n.refreshStats.bind(Object(f.a)(n)),n.shouldRefresh=!0,n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.refreshStats(),setInterval(this.refreshStats,"1000")}},{key:"refreshStats",value:function(){var t=this;this.shouldRefresh&&(this.shouldRefresh=!1,fetch("".concat(G,"/production-session/active/")).then((function(t){return 200!==t.status?[]:t.json()})).then(function(){var e=Object(Q.a)(K.a.mark((function e(a){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.forEach(function(){var e=Object(Q.a)(K.a.mark((function e(a){var n,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(G,"/production-session/").concat(a.id,"/stats/"));case 3:return r=e.sent,e.next=6,r.json();case 6:n=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 13:t.setState(Object(J.a)({},a.id,[t.fmt(a.line_number),t.fmt(n.shift),t.fmt(a.target),t.fmt(n.output),t.fmt(n.rtt),t.fmt(n.rtt-n.output),t.fmt(n.projected_output),t.fmt(t.fmtFloat(n.dhu)),t.fmt(t.fmtFloat(n.line_efficiency)),t.fmt(n.defective),t.fmt(n.rectified),t.fmt(n.rejected),t.fmt(a.operators),t.fmt(a.helpers),t.fmt(n.style_number),t.fmt(n.buyer)]));case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}());case 2:t.shouldRefresh=!0;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){console.error(e),t.shouldRefresh=!0})))}},{key:"fmt",value:function(t){return 0===t&&(t="0"),(t=t||"-").toLocaleString()}},{key:"fmtFloat",value:function(t){if(void 0!==t)return parseFloat(t).toFixed(2)}},{key:"render",value:function(){var t=[];for(var e in this.state)"headings"!==e&&t.push(this.state[e]);return t=t.sort((function(t,e){return t[0]-e[0]})),Object(n.jsx)(T,{hideConcurrentSameSrNo:!0,tableName:"Key Statistics",headings:this.state.headings,tableData:t})}}]),a}(r.Component),Z=a(22),W=a.n(Z),X=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={sideNavActive:!1},n.handleSideNavClose=n.handleSideNavClose.bind(Object(f.a)(n)),n.handleSideNavOpen=n.handleSideNavOpen.bind(Object(f.a)(n)),n}return Object(l.a)(a,[{key:"handleSideNavClose",value:function(){this.setState({sideNavActive:!1})}},{key:"handleSideNavOpen",value:function(){this.setState({sideNavActive:!0})}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(_,{handleSideNavOpen:this.handleSideNavOpen}),Object(n.jsxs)("div",{className:W.a.block,children:[Object(n.jsxs)(v,{handleSideNavClose:this.handleSideNavClose,sideNavActive:this.state.sideNavActive,children:[Object(n.jsx)(y,{title:"Overview",url:"#",faIcon:"fas fa-chart-pie",active:!0}),Object(n.jsx)(y,{title:"Settings",url:"#",faIcon:"fas fa-cog",active:!1})]}),Object(n.jsx)("div",{className:W.a.content,children:this.props.content})]})]})}}]),a}(c.a.Component),$=a(18),tt=a.n($),et=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:tt.a.block,children:[Object(n.jsx)(z,{}),Object(n.jsxs)("div",{className:tt.a["metric-cards-cont"],children:[Object(n.jsx)(R,{metricName:"Production Orders",uri:"/metric/active-orders/",extractData:function(t){return t.length}}),Object(n.jsx)(R,{metricName:"Production Volume",uri:"/metric/active-orders/",extractData:function(t){return t.map((function(t){return t.produced})).reduce((function(t,e){return t+e}))}}),Object(n.jsx)(R,{metricName:"Order Volume",uri:"/metric/active-orders/",extractData:function(t){return t.map((function(t){return t.target})).reduce((function(t,e){return t+e}))}}),Object(n.jsx)(R,{metricName:"Active Lines",uri:"/metric/active-lines/",extractData:function(t){return t}}),Object(n.jsx)(R,{metricName:"Operators",uri:"/metric/active-operators/",extractData:function(t){return t}}),Object(n.jsx)(R,{metricName:"Helpers",uri:"/metric/active-helpers/",extractData:function(t){return t}})]}),Object(n.jsxs)("div",{className:tt.a["detail-cards-cont"],children:[Object(n.jsx)(H,{}),Object(n.jsx)(U,{})]}),Object(n.jsx)(Y,{})]})}}]),a}(r.Component);d.b.add([b.c,b.b,b.a]),d.a.watch();var at=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var t=Object(n.jsx)(et,{});return Object(n.jsx)(X,{content:t})}}]),a}(r.Component),nt=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,40)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,c=e.getLCP,s=e.getTTFB;a(t),n(t),r(t),c(t),s(t)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(at,{})}),document.getElementById("root")),nt()}],[[39,1,2]]]);
//# sourceMappingURL=main.40fb6078.chunk.js.map